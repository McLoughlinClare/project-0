"use strict";function levelOnePlay(){shuffledNumbers=shuffleArray(numbers),cardSlotAssign(slots),cardAssign(numbers),$(".start-button").click(function(){console.log("welcome clicked!"),$("#welcome").hide(10),$("#levelOne").show(500),levelOneStart=(new Date).getTime(),console.log(levelOneStart)}),$(".skip-button").click(function(){$("#levelTwo").show(),$("#levelTwo").animate({opacity:1}),levelTwoPlay()})}function shuffleArray(e){var o=e.slice(0);return o.sort(function(){return Math.random()-.5}),o}function cardSlotAssign(){for(var e=0;e<slots.length;e++)$("<div />",{text:slots[e],"data-position":e+1}).appendTo("#cardSlots").droppable({accept:"#cardPile div",hoverClass:"hovered",drop:handleCardDrop})}function cardAssign(){for(var e=0;e<shuffledNumbers.length;e++)$("<div />",{text:shuffledNumbers[e],"data-position":numbers.indexOf(shuffledNumbers[e])+1}).attr("id","card"+e).appendTo("#cardPile").draggable({containment:"#levelOne",stack:"#cardPile div",cursor:"move",revert:!0})}function handleCardDrop(e,o){var l=$(this).data("position"),t=o.draggable.data("position");console.log(l,t),l===t&&(o.draggable.addClass("correct"),o.draggable.draggable("disable"),$(this).droppable("disable"),o.draggable.position({of:$(this),my:"left top",at:"left top"}),o.draggable.draggable("option","revert",!1),correctCards++,console.log(correctCards)),8===correctCards&&1===turnNumber?(slots=slotsTwo,numbers=numbersTwo,turnNumber++,$("#cardPile").html(""),$("#cardSlots").html(""),levelOnePlay()):16===correctCards&&2===turnNumber?(slots=slotsThree,numbers=numbersThree,turnNumber++,$("#cardPile").html(""),$("#cardSlots").html(""),levelOnePlay()):24===correctCards&&3===turnNumber&&(levelOneEnd=(new Date).getTime(),levelOneScore=Math.round((100-(levelOneEnd-levelOneStart)/1e3)/10),console.log(levelOneScore),$("#levelTwo").show(),console.log("leveltworevealed"),levelTwoStart=(new Date).getTime(),levelTwoPlay())}function levelTwoPlay(){console.log("levelTwoPlay"),console.log($(".unclassifiedParticle")),$(".unclassifiedParticle").draggable({containment:"levelTwo",revert:!0}),$("#mesons").droppable({accept:".mesons",drop:levelTwoDropEvent}),$("#baryons").droppable({accept:".baryons",drop:levelTwoDropEvent}),$("#lepton").droppable({accept:".leptons",drop:levelTwoDropEvent})}function levelTwoDropEvent(e,o){$(this).data("position")===o.draggable.data("position")&&(o.draggable.addClass("correct"),o.draggable.draggable("option","revert",!1),10==++correctClassification&&(levelTwoEnd=(new Date).getTime(),levelTwoScore=Math.round((100-(levelTwoEnd-levelTwoStart)/1e3)/10),console.log(levelTwoScore),console.log("Level Three"),$("#levelThree").show().animate({opacity:1}),$("#levelTwo").hide(),levelThreePlay(),buttonClick()))}function levelThreePlay(){console.log("start of level 3");var e=questions[round].question,o=questions[round].options[0],l=questions[round].options[1],t=questions[round].options[2];actualAnswer=questions[round].answer,$("div.questions").html(e),$("button.a").html(o),$("button.b").html(l),$("button.c").html(t)}function buttonClick(){$(".roundThree button").click(function(e){$(e.target).attr("class")===actualAnswer&&levelThreeScore++,round<=3?(round++,levelThreePlay()):(console.log("results"),$("div.feedbackOne p").html(levelOneScore),levelOneScore>4&&$(".feedbackOne").addClass("good"),3!==levelOneScore&&4!==levelOneScore||$(".feedbackOne").addClass("average"),levelOneScore<3&&$(".feedbackOne").addClass("bad"),$("div.feedbackTwo p").html(levelTwoScore),levelTwoScore>6&&$(".feedbackTwo").addClass("good"),5!==levelTwoScore&&6!==levelTwoScore||$(".feedbackTwo").addClass("average"),levelTwoScore<5&&$(".feedbackTwo").addClass("bad"),$("div.feedbackThree p").html(levelThreeScore),levelThreeScore>4&&$(".feedbackThree").addClass("good"),3!==levelThreeScore&&4!==levelThreeScore||$(".feedbackThree").addClass("average"),levelThreeScore<3&&$(".feedbackThree").addClass("bad"),console.log("student feedback loading"),$("#studentFeedback").show().animate({opacity:1}))})}console.log("JS loaded");var correctCards=0,turnNumber=1,numbersTwo=["Proton","Neutron","k⁰","π+","π-","K+","K-","π⁰"],numbersThree=["Gravitational","Gravitational1","weak","weak1","EM","EM1","Strong","Strong1"],numbersOne=["Proton","Neutron","Electron","Positron","tau","Kaon+","Muon","Pion"],slotsTwo=["uud","udd","ds̄","ūd","d̄u","us̄","ūs","uū"],slotsThree=["affects all particles with mass","infinite range","affects all particles","responsable for beta decay","affects all particles with charge","infinite range","affects hadrons","very short range"],slotsOne=["p","n","e","p̄","τ","K+","μ","π⁰"],shuffledNumbers=[],slots=slotsOne,numbers=numbersOne,levelOneStart="",levelOneEnd="",levelOneScore="",levelTwoStart="",levelTwoEnd="",levelTwoScore="",correctClassification=0,questions=[{answer:"a answer-button",question:"Which of the fundamental forces do Lepton's not experience?",options:["Strong Nuclear Force","Weak Interaction","Electromagnetic force"]},{answer:"c answer-button",question:"What is the charm quark's anti quark?",options:["Up","Top","Strange"]},{answer:"c answer-button",question:"Which particle type consists of quark-antiquark pairs?",options:["Baryon","Lepton","Meson"]},{answer:"a answer-button",question:"When is strangeness not conserved?",options:["weak interaction","electromagnetic force","gravitational force"]},{answer:"b answer-button",question:"Which of the following is not a Lepton?",options:["Muon","Neutron","Tau"]}],levelThreeScore=0,actualAnswer="",round=0;$(levelOnePlay),$("#cardPile").html("");
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJjYXJkU2xvdEFzc2lnbiIsIiQiLCJzaHVmZmxlQXJyYXkiLCJudW1iZXJzIiwiY29uc29sZSIsInNsb3RzIiwibGV2ZWxPbmVTdGFydCIsImNsaWNrIiwiRGF0ZSIsImxvZyIsImhpZGUiLCJzaG93IiwiZ2V0VGltZSIsImxldmVsVHdvUGxheSIsImFuaW1hdGUiLCJvcGFjaXR5IiwiYXJyYXkiLCJuZXdBcnJheSIsInNsaWNlIiwic29ydCIsIk1hdGgiLCJyYW5kb20iLCJkcm9wIiwiaSIsImxlbmd0aCIsInRleHQiLCJkYXRhLXBvc2l0aW9uIiwiYXBwZW5kVG8iLCJkcm9wcGFibGUiLCJhY2NlcHQiLCJob3ZlckNsYXNzIiwiY2FyZEFzc2lnbiIsImN1cnNvciIsInNodWZmbGVkTnVtYmVycyIsImluZGV4T2YiLCJhdHRyIiwiZHJhZ2dhYmxlIiwiY29udGFpbm1lbnQiLCJzdGFjayIsImhhbmRsZUNhcmREcm9wIiwicmV2ZXJ0IiwiZXZlbnQiLCJ1aSIsImFkZENsYXNzIiwiZGF0YSIsImNhcmROdW1iZXIiLCJjb3JyZWN0Q2FyZHMiLCJ0aGlzIiwidHVybk51bWJlciIsImF0Iiwic2xvdHNUd28iLCJsZXZlbE9uZVBsYXkiLCJudW1iZXJzVGhyZWUiLCJzbG90c1RocmVlIiwibGV2ZWxPbmVFbmQiLCJsZXZlbE9uZVNjb3JlIiwicm91bmQiLCJsZXZlbFR3b1N0YXJ0IiwibGV2ZWxUd29Ecm9wRXZlbnQiLCJwYXJ0aWNsZURpdiIsInBhcnRpY2xlQ2xhc3NpZmljYXRpb24iLCJjb3JyZWN0Q2xhc3NpZmljYXRpb24iLCJsZXZlbFR3b1Njb3JlIiwibGV2ZWxUd29FbmQiLCJidXR0b25DbGljayIsImxldmVsVGhyZWVQbGF5IiwiYW5zd2VyQiIsImFuc3dlckMiLCJjaG9zZW5RdWVzdGlvbiIsInF1ZXN0aW9ucyIsInF1ZXN0aW9uIiwiYW5zd2VyQSIsImh0bWwiLCJvcHRpb25zIiwiYWN0dWFsQW5zd2VyIiwiYW5zd2VyIiwiJGJ1dHRvbiIsImUiLCJsZXZlbFRocmVlU2NvcmUiLCJudW1iZXJzVHdvIiwibnVtYmVyc09uZSIsInNsb3RzT25lIl0sIm1hcHBpbmdzIjoiWUF5RUVBLFNBQUFBLGdCQUdBQyxnQkFBQUMsYUFBeUJDLFNBQ3ZCQyxlQUFZQyxPQUNaSixXQUFFRSxTQUVGRyxFQUFBQSxpQkFBaUJDLE1BQUlDLFdBQ3JCSixRQUFRSyxJQUFJSCxvQkFMZEwsRUFBQSxZQUFBUyxLQUFBLElBUUFULEVBQUEsYUFBQVUsS0FBQSxLQUNFTCxlQUFnQkMsR0FBbEJDLE9BQXdCSSxVQUN0QlgsUUFBRVEsSUFBQUgsaUJBSUZPLEVBQUFBLGdCQUFBQSxNQUFBQSxXQUxGWixFQUFBLGFBQUFVLE9BT0RWLEVBQUEsYUFBQWEsU0FKS0MsUUFBUyxJQU9iRixpQkFRQyxRQUZEWCxjQUFBYyxHQUlELEdBQUFDLEdBQUFELEVBQUFFLE1BQUEsRUFJQyxPQVJBRCxHQUFTRSxLQUFNLFdBTWpCLE1BQUFDLE1BQUFDLFNBQUEsS0FFUUosRUFLRkssUUFBQUEsa0JBSFUsSUFEWixHQUFBQyxHQUFBLEVBQUFBLEVBQUFsQixNQUFBbUIsT0FBQUQsSUFNRHRCLEVBQUEsV0FBQXdCLEtBQUFwQixNQUFBa0IsR0FBQUcsZ0JBQUFILEVBQUEsSUFBQUksU0FBQSxjQUNGQyxXQUxLQyxPQUFRLGdCQU9kQyxXQUFBLFVBQ0FSLEtBQVNTLGlCQU1IQyxRQUFBQSxjQUg2SixJQUEvSixHQUFBVCxHQUFBLEVBQUFBLEVBQUFVLGdCQUFBVCxPQUFBRCxJQU1EdEIsRUFBQSxXQUFBd0IsS0FBQVEsZ0JBQUFWLEdBQUFHLGdCQUFBdkIsUUFBQStCLFFBQUFELGdCQUFBVixJQUFBLElBQUFZLEtBQUEsS0FBQSxPQUFBWixHQUFBSSxTQUFBLGFBQUFTLFdBQ0ZDLFlBQUEsWUFDREMsTUFBQSxnQkFDQU4sT0FBU08sT0FMSEMsUUFBUSxJQVdaLFFBQUFELGdCQUFBRSxFQUFBQyxHQUVFQSxHQUFBQSxHQUFhQyxFQUFBQSxNQUFVQyxLQUFBLFlBQ3ZC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QkFBd0IsRUFENUJRLFlBRU1BLE9BQUFBLGtCQUVGTSxTQUFBQSw4REFDQUwsU0FBQUEsdUJBQUFBLG1CQUFBQSwyQkFJQUssT0FBUSxrQkFDUkwsU0FBQUEsd0NBQ0FHLFNBQVMsS0FBQSxNQUFBLGFBSVRILE9BQUFBLGtCQUNBRyxTQUFBQSx5REFFRkEsU0FBQSxTQUFBLFNBQUEsV0FHRUEsT0FBUyxrQkFFWEgsU0FBQUEscUNBQ0VLLFNBQVEsbUJBQUEsd0JBQUEseUJBdEJaQSxPQUFBLGtCQXVCSUwsU0FBQUEsMENBS0FRLFNBQUFBLE9BQUFBLFVBQUFBLFNBSUpBLGdCQUFBLEVBSElKLGFBQWUsR0FDZmxCLE1BQVEsQ0FXVnZELEdBQUFrRCxjQTZCQWxELEVBQUEsYUFBTWdCLEtBQVdEIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnNvbGUubG9nKCdKUyBsb2FkZWQnKTtcblxuLy9sZXZlbCBvbmUgY29uc3RhbnRzLy8vXG5sZXQgY29ycmVjdENhcmRzID0gMDtcbmxldCB0dXJuTnVtYmVyID0gMTtcblxuY29uc3QgbnVtYmVyc1R3byA9IFsnUHJvdG9uJywgJ05ldXRyb24nLCAna1xcdTIwNzAnLCAnXFx1MDNDMCsnLCdcXHUwM0MwLScsICdLKycsJ0stJywnXFx1MDNDMFxcdTIwNzAnXTtcbmNvbnN0IG51bWJlcnNUaHJlZSA9WydHcmF2aXRhdGlvbmFsJywgJ0dyYXZpdGF0aW9uYWwxJywgJ3dlYWsnLCAnd2VhazEnLCAnRU0nLCAnRU0xJywgJ1N0cm9uZycsICdTdHJvbmcxJ107XG5jb25zdCBudW1iZXJzT25lID0gWydQcm90b24nLCAnTmV1dHJvbicsICdFbGVjdHJvbicsICdQb3NpdHJvbicsICd0YXUnLCAnS2FvbisnLCAnTXVvbicsICdQaW9uJ107XG5cbmNvbnN0IHNsb3RzVHdvPSBbJ3V1ZCcsICd1ZGQnLCdkc1xcdTAzMDQnLCd1XFx1MDMwNGQnLCAnZFxcdTAzMDR1JywndXNcXHUwMzA0JywgJ3VcXHUwMzA0cycsICd1dVxcdTAzMDQnXTtcbmNvbnN0IHNsb3RzVGhyZWUgPSBbJ2FmZmVjdHMgYWxsIHBhcnRpY2xlcyB3aXRoIG1hc3MnLCAnaW5maW5pdGUgcmFuZ2UnLCAnYWZmZWN0cyBhbGwgcGFydGljbGVzJywgJ3Jlc3BvbnNhYmxlIGZvciBiZXRhIGRlY2F5JywgJ2FmZmVjdHMgYWxsIHBhcnRpY2xlcyB3aXRoIGNoYXJnZScsICdpbmZpbml0ZSByYW5nZScsICdhZmZlY3RzIGhhZHJvbnMnLCAndmVyeSBzaG9ydCByYW5nZSddO1xuY29uc3Qgc2xvdHNPbmUgPSBbJ3AnLCAnbicsJ2UnLCAncFxcdTAzMDQnLCdcXHUwM0M0JywgJ0srJywnXFx1MDNCQycsJ1xcdTAzQzBcXHUyMDcwJ107XG5cbmxldCBzaHVmZmxlZE51bWJlcnM9IFtdO1xubGV0IHNsb3RzID1zbG90c09uZTtcbmxldCBudW1iZXJzID0gbnVtYmVyc09uZTtcblxubGV0IGxldmVsT25lU3RhcnQgPSAnJztcbmxldCBsZXZlbE9uZUVuZCA9ICcnO1xubGV0IGxldmVsT25lU2NvcmUgPSAnJztcblxuLy9sZXZlbCB0d28gY29uc3RhbnRzLy8vL1xuXG5sZXQgbGV2ZWxUd29TdGFydCA9ICcnO1xubGV0IGxldmVsVHdvRW5kID0gJyc7XG5sZXQgbGV2ZWxUd29TY29yZSA9ICcnO1xuXG4vL2xldmVsIHRocmVlIGNvbnN0YW50cy8vL1xubGV0IGNvcnJlY3RDbGFzc2lmaWNhdGlvbiA9IDA7XG5jb25zdCBxdWVzdGlvbnMgPVtcbiAge1xuICAgIGFuc3dlcjogJ2EgYW5zd2VyLWJ1dHRvbicsXG4gICAgcXVlc3Rpb246IGBXaGljaCBvZiB0aGUgZnVuZGFtZW50YWwgZm9yY2VzIGRvIExlcHRvbidzIG5vdCBleHBlcmllbmNlP2AsXG4gICAgb3B0aW9uczogW2BTdHJvbmcgTnVjbGVhciBGb3JjZWAsIGBXZWFrIEludGVyYWN0aW9uYCwgYEVsZWN0cm9tYWduZXRpYyBmb3JjZWBdXG4gIH0sXG4gIHtcbiAgICBhbnN3ZXI6ICdjIGFuc3dlci1idXR0b24nLFxuICAgIHF1ZXN0aW9uOiBgV2hhdCBpcyB0aGUgY2hhcm0gcXVhcmsncyBhbnRpIHF1YXJrP2AsXG4gICAgb3B0aW9uczogW2BVcGAsIGBUb3BgLCBgU3RyYW5nZWBdXG4gIH0sXG4gIHtcbiAgICBhbnN3ZXI6ICdjIGFuc3dlci1idXR0b24nLFxuICAgIHF1ZXN0aW9uOiBgV2hpY2ggcGFydGljbGUgdHlwZSBjb25zaXN0cyBvZiBxdWFyay1hbnRpcXVhcmsgcGFpcnM/YCxcbiAgICBvcHRpb25zOiBbYEJhcnlvbmAsIGBMZXB0b25gLCBgTWVzb25gXVxuICB9LFxuICB7XG4gICAgYW5zd2VyOiAnYSBhbnN3ZXItYnV0dG9uJyxcbiAgICBxdWVzdGlvbjogYFdoZW4gaXMgc3RyYW5nZW5lc3Mgbm90IGNvbnNlcnZlZD9gLFxuICAgIG9wdGlvbnM6IFtgd2VhayBpbnRlcmFjdGlvbmAsIGBlbGVjdHJvbWFnbmV0aWMgZm9yY2VgLCBgZ3Jhdml0YXRpb25hbCBmb3JjZWBdXG4gIH0sXG4gIHtcbiAgICBhbnN3ZXI6ICdiIGFuc3dlci1idXR0b24nLFxuICAgIHF1ZXN0aW9uOiBgV2hpY2ggb2YgdGhlIGZvbGxvd2luZyBpcyBub3QgYSBMZXB0b24/YCxcbiAgICBvcHRpb25zOiBbYE11b25gLCBgTmV1dHJvbmAsIGBUYXVgXVxuICB9XG5dO1xuXG5sZXQgbGV2ZWxUaHJlZVNjb3JlID0gMDtcbmxldCBhY3R1YWxBbnN3ZXIgPSAnJztcbmxldCByb3VuZCA9IDA7XG5cbi8vLy8vLy8vLy8vLy8vLy8vL2VuZCBvZiBjb25zdGFudHMvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbi8vcnVuIGZ1bmN0aW9uIGZvciB0aGUgZmlyc3QgdGltZSBmb3IgdHVybiAxLlxuXG4kKGxldmVsT25lUGxheSApO1xuXG5mdW5jdGlvbiBsZXZlbE9uZVBsYXkoKSB7XG4gIC8vIFNob3cgb25seSB0aGUgZmlyc3QgZ2FtZS5cbiAgLy9zaG93IG9ubHkgb25lIHBhaXIgb2YgYXJyYXlzIGF0IGEgdGltZVxuICBzaHVmZmxlZE51bWJlcnMgPSBzaHVmZmxlQXJyYXkobnVtYmVycyk7XG4gIGNhcmRTbG90QXNzaWduKHNsb3RzKTtcbiAgY2FyZEFzc2lnbihudW1iZXJzKTtcbiAgLy9zdGFydCBidXR0b24gdG8gY29sbGVjdCB0aW1lIHN0YW1wLlxuICAkKCcuc3RhcnQtYnV0dG9uJykuY2xpY2soKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCd3ZWxjb21lIGNsaWNrZWQhJyk7XG4gICAgJCgnI3dlbGNvbWUnKS5oaWRlKDEwKTtcbiAgICAkKCcjbGV2ZWxPbmUnKS5zaG93KDUwMCk7XG4gICAgbGV2ZWxPbmVTdGFydCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgY29uc29sZS5sb2cobGV2ZWxPbmVTdGFydCk7XG5cbiAgfSk7XG4gIC8vc2tpcCBidXR0b24gZm9yIGRldmVsb3BtZW50IHB1cnBvc2VzIG9ubHkuXG4gICQoJy5za2lwLWJ1dHRvbicpLmNsaWNrKCgpID0+IHtcbiAgICAkKCcjbGV2ZWxUd28nKS5zaG93KCk7XG4gICAgJCgnI2xldmVsVHdvJykuYW5pbWF0ZSgge1xuICAgICAgb3BhY2l0eTogMVxuICAgIH0gKTtcbiAgICBsZXZlbFR3b1BsYXkoKTtcbiAgfSk7XG59XG5cbi8vIFJlc2V0IHRoZSBnYW1lXG4kKCcjY2FyZFBpbGUnKS5odG1sKCAnJyApO1xuXG4vL3RvIHNodWZmbGUgdGhlIGNhcmRzIHNvIGl0IGlzIGRpZmZlcmVudCBlYWNoIHRpbWUgZm9yIHRoZSBwbGF5ZXIuXG5mdW5jdGlvbiBzaHVmZmxlQXJyYXkoYXJyYXkpIHtcbiAgLy8gZmlzaGVyLXlhdGVzIHNodWZmbGVcbiAgY29uc3QgbmV3QXJyYXkgPSBhcnJheS5zbGljZSgwKTtcbiAgbmV3QXJyYXkuc29ydCggZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgLSAwLjU7XG4gIH0pO1xuICByZXR1cm4gbmV3QXJyYXk7XG59XG5cbi8vIENyZWF0ZSB0aGUgY2FyZCBzbG90c1xuZnVuY3Rpb24gY2FyZFNsb3RBc3NpZ24oKSB7XG4gIGZvciAoIGxldCBpPTA7IGk8c2xvdHMubGVuZ3RoOyBpKysgKSB7XG4gICAgJCgnPGRpdiAvPicsIHsgdGV4dDogc2xvdHNbaV0sICdkYXRhLXBvc2l0aW9uJzogaSArIDEgfSkuYXBwZW5kVG8oJyNjYXJkU2xvdHMnKVxuICAgIC5kcm9wcGFibGUoIHtcbiAgICAgIGFjY2VwdDogJyNjYXJkUGlsZSBkaXYnLFxuICAgICAgaG92ZXJDbGFzczogJ2hvdmVyZWQnLFxuICAgICAgZHJvcDogaGFuZGxlQ2FyZERyb3BcbiAgICB9ICk7XG4gIH1cbn1cblxuLy8gQ3JlYXRlIHRoZSBwaWxlIG9mIHNodWZmbGVkIGNhcmRzXG5mdW5jdGlvbiBjYXJkQXNzaWduKCl7XG5cbiAgZm9yICggbGV0IGk9MDsgaTxzaHVmZmxlZE51bWJlcnMubGVuZ3RoOyBpKysgKSB7XG4gICAgJCgnPGRpdiAvPicsIHsgdGV4dDogc2h1ZmZsZWROdW1iZXJzW2ldLCAnZGF0YS1wb3NpdGlvbic6IG51bWJlcnMuaW5kZXhPZihzaHVmZmxlZE51bWJlcnNbaV0pICsgMSB9KS5hdHRyKCAnaWQnLCAnY2FyZCcraSApLmFwcGVuZFRvKCAnI2NhcmRQaWxlJyApLmRyYWdnYWJsZSgge1xuICAgICAgY29udGFpbm1lbnQ6ICcjbGV2ZWxPbmUnLFxuICAgICAgc3RhY2s6ICcjY2FyZFBpbGUgZGl2JyxcbiAgICAgIGN1cnNvcjogJ21vdmUnLFxuICAgICAgcmV2ZXJ0OiB0cnVlXG4gICAgfSApO1xuICB9XG59XG4vL2RyYWdnaW5nIHRoZSBjYXJkcyB0byB0aGUgcmlnaHQgc2xvdC5cbmZ1bmN0aW9uIGhhbmRsZUNhcmREcm9wKCBldmVudCwgdWkgKSB7XG5cbiAgdmFyIHNsb3ROdW1iZXIgPSAkKHRoaXMpLmRhdGEoJ3Bvc2l0aW9uJyk7XG4gIHZhciBjYXJkTnVtYmVyID0gdWkuZHJhZ2dhYmxlLmRhdGEoJ3Bvc2l0aW9uJyk7XG4gIGNvbnNvbGUubG9nKHNsb3ROdW1iZXIsIGNhcmROdW1iZXIpO1xuICAvLyBJZiB0aGUgY2FyZCB3YXMgZHJvcHBlZCB0byB0aGUgY29ycmVjdCBzbG90LGNoYW5nZSB0aGUgY2FyZCBjb2xvdXIsIHBvc2l0aW9uIGl0IGRpcmVjdGx5XG4gIC8vIG9uIHRvcCBvZiB0aGUgc2xvdCwgYW5kIHByZXZlbnQgaXQgYmVpbmcgZHJhZ2dlZCBhZ2FpblxuICBpZiAoIHNsb3ROdW1iZXIgPT09IGNhcmROdW1iZXIgKSB7XG4gICAgdWkuZHJhZ2dhYmxlLmFkZENsYXNzKCAnY29ycmVjdCcgKTtcbiAgICB1aS5kcmFnZ2FibGUuZHJhZ2dhYmxlKCAnZGlzYWJsZScgKTtcbiAgICAkKHRoaXMpLmRyb3BwYWJsZSggJ2Rpc2FibGUnICk7XG4gICAgdWkuZHJhZ2dhYmxlLnBvc2l0aW9uKCB7IG9mOiAkKHRoaXMpLCBteTogJ2xlZnQgdG9wJywgYXQ6ICdsZWZ0IHRvcCcgfSApO1xuICAgIHVpLmRyYWdnYWJsZS5kcmFnZ2FibGUoICdvcHRpb24nLCAncmV2ZXJ0JywgZmFsc2UgKTtcbiAgICBjb3JyZWN0Q2FyZHMrKztcbiAgICBjb25zb2xlLmxvZyhjb3JyZWN0Q2FyZHMpO1xuICB9XG4gIC8vIElmIGFsbCB0aGUgY2FyZHMgaGF2ZSBiZWVuIHBsYWNlZCBjb3JyZWN0bHkgbW92ZSBvbnRvIG5leHQgcm91bmQsIHVubGVzcyBmaW5hbCByb3VuZCwgZGlzcGxheSBzdWNjZXNzIG1lc3NhZ2UuXG4gIGlmIChjb3JyZWN0Q2FyZHMgPT09IDggJiYgdHVybk51bWJlciA9PT0gMSl7XG4gICAgc2xvdHMgPSBzbG90c1R3bztcbiAgICBudW1iZXJzID0gbnVtYmVyc1R3bztcbiAgICB0dXJuTnVtYmVyKys7XG4gICAgJCgnI2NhcmRQaWxlJykuaHRtbCggJycgKTtcbiAgICAkKCcjY2FyZFNsb3RzJykuaHRtbCggJycgKTtcbiAgICBsZXZlbE9uZVBsYXkoKTtcbiAgICAvL3RvIHRha2UgcGxheWVyIG9udG8gdGhlIDNyZCByb3VuZC5cbiAgfSBlbHNlIGlmIChjb3JyZWN0Q2FyZHMgPT09IDE2ICYmIHR1cm5OdW1iZXIgPT09IDIpe1xuICAgIHNsb3RzID0gc2xvdHNUaHJlZTtcbiAgICBudW1iZXJzID0gbnVtYmVyc1RocmVlO1xuICAgIHR1cm5OdW1iZXIrKztcbiAgICAkKCcjY2FyZFBpbGUnKS5odG1sKCAnJyApO1xuICAgICQoJyNjYXJkU2xvdHMnKS5odG1sKCAnJyApO1xuICAgIGxldmVsT25lUGxheSgpO1xuICAgIC8vdG8gY29tcGxldGUgbGV2ZWwgMVxuICB9IGVsc2UgaWYgKCBjb3JyZWN0Q2FyZHMgPT09IDI0ICYmIHR1cm5OdW1iZXIgPT09IDMpIHtcbiAgICBsZXZlbE9uZUVuZCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgbGV2ZWxPbmVTY29yZSA9IE1hdGgucm91bmQoKDEwMCAtICgobGV2ZWxPbmVFbmQgLSBsZXZlbE9uZVN0YXJ0KS8xMDAwKSkvMTApO1xuICAgIGNvbnNvbGUubG9nKGxldmVsT25lU2NvcmUpO1xuICAgICQoJyNsZXZlbFR3bycpLnNob3coKTtcbiAgICBjb25zb2xlLmxvZygnbGV2ZWx0d29yZXZlYWxlZCcpO1xuICAgIGxldmVsVHdvU3RhcnQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgIGxldmVsVHdvUGxheSgpO1xuICB9XG59XG5cbi8vRU5EIE9GIExFVkVMIDEvLy8vLy9TVEFSVCBPRiBMRVZFTCAyLy8vLy9cbmZ1bmN0aW9uIGxldmVsVHdvUGxheSgpIHtcbiAgY29uc29sZS5sb2coJ2xldmVsVHdvUGxheScpO1xuICBjb25zb2xlLmxvZygkKCcudW5jbGFzc2lmaWVkUGFydGljbGUnKSk7XG4gICQoJy51bmNsYXNzaWZpZWRQYXJ0aWNsZScpLmRyYWdnYWJsZSh7XG4gICAgY29udGFpbm1lbnQ6ICdsZXZlbFR3bycsXG4gICAgcmV2ZXJ0OiB0cnVlXG4gIH0pO1xuXG4gICQoJyNtZXNvbnMnKS5kcm9wcGFibGUoe1xuICAgIGFjY2VwdDogJy5tZXNvbnMnLFxuICAgIGRyb3A6IGxldmVsVHdvRHJvcEV2ZW50XG5cbiAgfSk7XG4gICQoJyNiYXJ5b25zJykuZHJvcHBhYmxlKHtcbiAgICBhY2NlcHQ6ICcuYmFyeW9ucycsXG4gICAgZHJvcDogbGV2ZWxUd29Ecm9wRXZlbnRcbiAgfSk7XG4gICQoJyNsZXB0b24nKS5kcm9wcGFibGUoe1xuICAgIGFjY2VwdDogJy5sZXB0b25zJyxcbiAgICBkcm9wOiBsZXZlbFR3b0Ryb3BFdmVudFxuICB9KTtcbn1cblxuZnVuY3Rpb24gbGV2ZWxUd29Ecm9wRXZlbnQoIGV2ZW50LCB1aSApIHtcbiAgdmFyIHBhcnRpY2xlRGl2ID0gJCh0aGlzKS5kYXRhKCdwb3NpdGlvbicpO1xuICB2YXIgcGFydGljbGVDbGFzc2lmaWNhdGlvbiA9IHVpLmRyYWdnYWJsZS5kYXRhKCdwb3NpdGlvbicpO1xuICBpZiAocGFydGljbGVEaXYgPT09IHBhcnRpY2xlQ2xhc3NpZmljYXRpb24pe1xuICAgIHVpLmRyYWdnYWJsZS5hZGRDbGFzcyggJ2NvcnJlY3QnICk7XG4gICAgdWkuZHJhZ2dhYmxlLmRyYWdnYWJsZSggJ29wdGlvbicsICdyZXZlcnQnLCBmYWxzZSApO1xuICAgIGNvcnJlY3RDbGFzc2lmaWNhdGlvbiArKztcblxuICAgIGlmICggY29ycmVjdENsYXNzaWZpY2F0aW9uID09PSAxMCkge1xuICAgICAgbGV2ZWxUd29FbmQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgbGV2ZWxUd29TY29yZSA9IE1hdGgucm91bmQoKDEwMCAtICgobGV2ZWxUd29FbmQgLSBsZXZlbFR3b1N0YXJ0KS8xMDAwKSkvMTApO1xuICAgICAgY29uc29sZS5sb2cobGV2ZWxUd29TY29yZSk7XG4gICAgICBjb25zb2xlLmxvZygnTGV2ZWwgVGhyZWUnKTtcbiAgICAgIC8vUmV2ZWFsIGxldmVsIHRocmVlIGFuZCBoaWRlIGxldmVsIHR3by5cbiAgICAgICQoJyNsZXZlbFRocmVlJykuc2hvdygpLmFuaW1hdGUoIHtcbiAgICAgICAgb3BhY2l0eTogMVxuICAgICAgfSApO1xuICAgICAgJCgnI2xldmVsVHdvJykuaGlkZSgpO1xuXG4gICAgICBsZXZlbFRocmVlUGxheSgpO1xuICAgICAgYnV0dG9uQ2xpY2soKTtcbiAgICB9XG4gIH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9sZXZlbCAzLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZnVuY3Rpb24gbGV2ZWxUaHJlZVBsYXkgKCl7XG4gIGNvbnNvbGUubG9nKCdzdGFydCBvZiBsZXZlbCAzJyk7XG4gIC8vIGZvciAobGV0IGkgPSAwOyBpPHF1ZXN0aW9ucy5sZW5ndGg7IGkrKyl7XG4gIC8vdG8gZ2VuZXJhdGUgdGhlIHF1ZXN0aW9uIGZvciBlYWNoIHJvdW5kXG4gIGNvbnN0IGNob3NlblF1ZXN0aW9uID0gcXVlc3Rpb25zW3JvdW5kXS5xdWVzdGlvbjtcbiAgY29uc3QgYW5zd2VyQSA9IHF1ZXN0aW9uc1tyb3VuZF0ub3B0aW9uc1swXTtcbiAgY29uc3QgYW5zd2VyQiA9IHF1ZXN0aW9uc1tyb3VuZF0ub3B0aW9uc1sxXTtcbiAgY29uc3QgYW5zd2VyQyA9IHF1ZXN0aW9uc1tyb3VuZF0ub3B0aW9uc1syXTtcbiAgYWN0dWFsQW5zd2VyID0gcXVlc3Rpb25zW3JvdW5kXS5hbnN3ZXI7XG4gIC8vdG8gcHJpbnQgdGhlIHF1ZXN0aW9ucyBhbmQgdGhlIGJ1dHRvbnNcbiAgJCgnZGl2LnF1ZXN0aW9ucycpLmh0bWwoY2hvc2VuUXVlc3Rpb24pO1xuICAkKCdidXR0b24uYScpLmh0bWwoYW5zd2VyQSk7XG4gICQoJ2J1dHRvbi5iJykuaHRtbChhbnN3ZXJCKTtcbiAgJCgnYnV0dG9uLmMnKS5odG1sKGFuc3dlckMpO1xufVxuXG5cbmZ1bmN0aW9uIGJ1dHRvbkNsaWNrKCl7XG4gICQoJy5yb3VuZFRocmVlIGJ1dHRvbicpLmNsaWNrKChlKSA9PiB7XG4gICAgY29uc3QgJGJ1dHRvbiA9ICQoZS50YXJnZXQpO1xuICAgIGNvbnN0IGFuc3dlciA9ICRidXR0b24uYXR0cignY2xhc3MnKTtcblxuICAgIGlmIChhbnN3ZXIgPT09IGFjdHVhbEFuc3dlcil7XG4gICAgICBsZXZlbFRocmVlU2NvcmUrKztcbiAgICB9XG4gICAgaWYocm91bmQgPD0gMykge1xuICAgICAgcm91bmQrKztcbiAgICAgIGxldmVsVGhyZWVQbGF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHRzJyk7XG5cbiAgICAgIC8vYXNzaWduaW5nIGNvbG91cnMgdG8gZGl2cyBmb3IgdGhlIHJlc3VsdHNcblxuICAgICAgJCggJ2Rpdi5mZWVkYmFja09uZSBwJyApLmh0bWwobGV2ZWxPbmVTY29yZSk7XG4gICAgICBpZiAobGV2ZWxPbmVTY29yZSA+IDQpe1xuICAgICAgICAkKCcuZmVlZGJhY2tPbmUnKS5hZGRDbGFzcygnZ29vZCcpO1xuICAgICAgfSBpZiAobGV2ZWxPbmVTY29yZSA9PT0gMyB8fCBsZXZlbE9uZVNjb3JlID09PSA0KXtcbiAgICAgICAgJCgnLmZlZWRiYWNrT25lJykuYWRkQ2xhc3MoJ2F2ZXJhZ2UnKTtcbiAgICAgIH0gaWYobGV2ZWxPbmVTY29yZSA8IDMpe1xuICAgICAgICAkKCcuZmVlZGJhY2tPbmUnKS5hZGRDbGFzcygnYmFkJyk7XG4gICAgICB9XG4gICAgICAkKCAnZGl2LmZlZWRiYWNrVHdvIHAnICkuaHRtbChsZXZlbFR3b1Njb3JlKTtcbiAgICAgIGlmIChsZXZlbFR3b1Njb3JlID4gNil7XG4gICAgICAgICQoJy5mZWVkYmFja1R3bycpLmFkZENsYXNzKCdnb29kJyk7XG4gICAgICB9IGlmIChsZXZlbFR3b1Njb3JlID09PSA1IHx8IGxldmVsVHdvU2NvcmUgPT09IDYpe1xuICAgICAgICAkKCcuZmVlZGJhY2tUd28nKS5hZGRDbGFzcygnYXZlcmFnZScpO1xuICAgICAgfSBpZiAobGV2ZWxUd29TY29yZSA8IDUpe1xuICAgICAgICAkKCcuZmVlZGJhY2tUd28nKS5hZGRDbGFzcygnYmFkJyk7XG4gICAgICB9XG4gICAgICAkKCAnZGl2LmZlZWRiYWNrVGhyZWUgcCcgKS5odG1sKGxldmVsVGhyZWVTY29yZSk7XG4gICAgICBpZiAobGV2ZWxUaHJlZVNjb3JlID4gNCl7XG4gICAgICAgICQoJy5mZWVkYmFja1RocmVlJykuYWRkQ2xhc3MoJ2dvb2QnKTtcbiAgICAgIH0gaWYgKGxldmVsVGhyZWVTY29yZSA9PT0gMyB8fCBsZXZlbFRocmVlU2NvcmUgPT09IDQpe1xuICAgICAgICAkKCcuZmVlZGJhY2tUaHJlZScpLmFkZENsYXNzKCdhdmVyYWdlJyk7XG4gICAgICB9IGlmIChsZXZlbFRocmVlU2NvcmUgPCAzKXtcbiAgICAgICAgJCgnLmZlZWRiYWNrVGhyZWUnKS5hZGRDbGFzcygnYmFkJyk7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZygnc3R1ZGVudCBmZWVkYmFjayBsb2FkaW5nJyk7XG4gICAgICAkKCcjc3R1ZGVudEZlZWRiYWNrJykuc2hvdygpLmFuaW1hdGUoIHtcbiAgICAgICAgb3BhY2l0eTogMVxuICAgICAgfSApO1xuXG4gICAgfVxuICB9KTtcbn1cbiJdfQ==
