"use strict";function init(){$("#levelTwo").hide(),$("#levelThree").hide(),$("#chart-container").hide(),shuffledNumbers=shuffleArray(numbers),console.log(slots),console.log(numbers),cardSlotAssign(slots),cardAssign(numbers),$(".start-button").click(function(){console.log("welcome clicked!"),$("#welcome").hide(),levelOneStart=(new Date).getTime(),console.log(levelOneStart)}),$(".skip-button").click(function(){$("#levelTwo").show(),$("#levelTwo").animate({opacity:1}),levelTwoPlay()})}function shuffleArray(e){var o=e.slice(0);return o.sort(function(){return Math.random()-.5}),o}function cardSlotAssign(){for(var e=0;e<slots.length;e++)$("<div />",{text:slots[e],"data-position":e+1}).appendTo("#cardSlots").droppable({accept:"#cardPile div",hoverClass:"hovered",drop:handleCardDrop})}function cardAssign(){for(var e=0;e<shuffledNumbers.length;e++)$("<div />",{text:shuffledNumbers[e],"data-position":numbers.indexOf(shuffledNumbers[e])+1}).attr("id","card"+e).appendTo("#cardPile").draggable({containment:"#content",stack:"#cardPile div",cursor:"move",revert:!0})}function handleCardDrop(e,o){var t=$(this).data("position"),n=o.draggable.data("position");console.log(t,n),t===n&&(o.draggable.addClass("correct"),o.draggable.draggable("disable"),$(this).droppable("disable"),o.draggable.position({of:$(this),my:"left top",at:"left top"}),o.draggable.draggable("option","revert",!1),correctCards++),8===correctCards&&1===turnNumber?(slots=slotsTwo,numbers=numbersTwo,turnNumber++,$("#cardPile").html(""),$("#cardSlots").html(""),init()):16===correctCards&&2===turnNumber?(slots=slotsThree,numbers=numbersThree,turnNumber++,$("#cardPile").html(""),$("#cardSlots").html(""),init()):24===correctCards&&3===turnNumber&&(console.log("COMPLETED!"),levelOneEnd=(new Date).getTime(),console.log(levelOneEnd),levelOneScore=Math.round((100-(levelOneEnd-levelOneStart)/1e3)/10),console.log(levelOneScore),$("#levelTwo").show(),$("#levelTwo").animate({opacity:1}),levelTwoStart=(new Date).getTime(),console.log(levelTwoStart),levelTwoPlay())}function levelTwoPlay(){console.log("levelTwoPlay"),console.log($(".unclassifiedParticle")),$(".unclassifiedParticle").draggable({containment:"levelTwo",revert:!0}),$("#mesons").droppable({accept:".mesons",drop:levelTwoDropEvent}),$("#baryons").droppable({accept:".baryons",drop:levelTwoDropEvent}),$("#lepton").droppable({accept:".leptons",drop:levelTwoDropEvent})}function levelTwoDropEvent(e,o){$(this).data("position")===o.draggable.data("position")&&(o.draggable.addClass("correct"),o.draggable.draggable("option","revert",!1),correctClassification++,console.log(correctClassification),10===correctClassification&&(levelTwoEnd=(new Date).getTime(),console.log(levelTwoEnd),levelTwoScore=Math.round((100-(levelTwoEnd-levelTwoStart)/1e3)/10),console.log(levelTwoScore),console.log("Level Three"),$("#levelThree").show(),$("#levelThree").animate({opacity:1}),levelThreePlay(),buttonClick()))}function levelThreePlay(){console.log("start of level 3");var e=questions[round].question,o=questions[round].options[0],t=questions[round].options[1],n=questions[round].options[2];actualAnswer=questions[round].answer,$("div.questions").html(e),$("button.a").html(o),$("button.b").html(t),$("button.c").html(n),console.log("answer = "+actualAnswer)}function buttonClick(){$(".roundThree button").click(function(e){$(e.target).attr("class")===actualAnswer&&(console.log("correct"),correctQuestion++,console.log("correctQuestion="+correctQuestion)),round<=3?(round++,levelThreePlay()):(console.log("results"),$("div.feedbackOne").html("Symbols and Basics Score = "+levelOneScore),$("div.feedbackTwo").html("particle classification Score = "+levelTwoScore),$("div.feedbackThree").html("Basic Concept Score = "+correctQuestion),$("#chart-container").show(),$("#chart-container").animate({opacity:1}))})}console.log("JS loaded");var correctCards=0,turnNumber=1,numbersTwo=["Proton","Neutron","Positron","π+","π-","K+","K-","π⁰"],numbersThree=["Gravitational","Gravitational1","weak","weak1","EM","EM1","Strong","Strong1"],numbersOne=["Proton","Neutron","Electron","Positron","Pion+","Kaon+","kaon-","Pion"],slotsTwo=["uud","udd","‾u","u-d","-ud","-ud","-du","u-u"],slotsThree=["affects all particles with mass","infinite range","affects all particles","responsable for beta decay","affects all particles with charge","infinite range","affects hadrons","very short range"],slotsOne=["p","n","e","p-","π+","K+","K-","π⁰"],shuffledNumbers=[],slots=slotsOne,numbers=numbersOne,correctClassification=0,levelOneStart="",levelOneEnd="",levelOneScore="",levelTwoStart="",levelTwoEnd="",levelTwoScore="";$(init),correctCards=0,$("#cardPile").html("");var questions=[{answer:"a",question:"Which of the fundamental forces do Lepton's not experience?",options:["Strong Nuclear Force","Weak Interaction","Electromagnetic force"]},{answer:"c",question:"What is the charm quark's anti quark?",options:["Up","Top","Strange"]},{answer:"c",question:"Which particle type consists of quark-antiquark pairs?",options:["Baryon","Lepton","Meson"]},{answer:"a",question:"When is strangeness not conserved?",options:["weak interaction","electromagnetic force","gravitational force"]},{answer:"b",question:"Which of the following is not a Lepton?",options:["Muon","Neutron","Tau"]}],answer="",correctQuestion=0,actualAnswer="",round=0;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJpbml0IiwiJCIsImhpZGUiLCJjb25zb2xlIiwic2h1ZmZsZUFycmF5IiwibnVtYmVycyIsImxvZyIsImNhcmRTbG90QXNzaWduIiwiY2FyZEFzc2lnbiIsImNsaWNrIiwibGV2ZWxPbmVTdGFydCIsImdldFRpbWUiLCJhbmltYXRlIiwic2hvdyIsIm9wYWNpdHkiLCJsZXZlbFR3b1BsYXkiLCJuZXdBcnJheSIsImFycmF5IiwicmFuZG9tIiwic2xpY2UiLCJzb3J0IiwiYWNjZXB0IiwiaSIsInNsb3RzIiwibGVuZ3RoIiwiaG92ZXJDbGFzcyIsInRleHQiLCJkYXRhLXBvc2l0aW9uIiwiYXBwZW5kVG8iLCJkcm9wIiwiaGFuZGxlQ2FyZERyb3AiLCJzdGFjayIsInNodWZmbGVkTnVtYmVycyIsImN1cnNvciIsImluZGV4T2YiLCJhdHRyIiwiZHJhZ2dhYmxlIiwicmV2ZXJ0IiwiY2FyZE51bWJlciIsImRhdGEiLCJzbG90TnVtYmVyIiwidGhpcyIsInVpIiwicG9zaXRpb24iLCJjb3JyZWN0Q2FyZHMiLCJvZiIsIm15IiwiYXQiLCJ0dXJuTnVtYmVyIiwic2xvdHNUd28iLCJudW1iZXJzVHdvIiwiaHRtbCIsInNsb3RzVGhyZWUiLCJudW1iZXJzVGhyZWUiLCJsZXZlbE9uZVNjb3JlIiwibGV2ZWxPbmVFbmQiLCJsZXZlbFR3b1N0YXJ0IiwiRGF0ZSIsImNvbnRhaW5tZW50IiwiZHJvcHBhYmxlIiwibGV2ZWxUd29Ecm9wRXZlbnQiLCJwYXJ0aWNsZURpdiIsInBhcnRpY2xlQ2xhc3NpZmljYXRpb24iLCJhZGRDbGFzcyIsImNvcnJlY3RDbGFzc2lmaWNhdGlvbiIsImxldmVsVHdvRW5kIiwibGV2ZWxUd29TY29yZSIsIk1hdGgiLCJyb3VuZCIsImJ1dHRvbkNsaWNrIiwibGV2ZWxUaHJlZVBsYXkiLCJjaG9zZW5RdWVzdGlvbiIsImFuc3dlckMiLCJxdWVzdGlvbiIsInF1ZXN0aW9ucyIsImFjdHVhbEFuc3dlciIsImFuc3dlckIiLCJvcHRpb25zIiwiYW5zd2VyIiwiYW5zd2VyQSIsIiRidXR0b24iLCJjb3JyZWN0UXVlc3Rpb24iLCJudW1iZXJzT25lIiwic2xvdHNPbmUiXSwibWFwcGluZ3MiOiJZQWdDRSxTQUFBQSxRQUVBQyxFQUFFLGFBQUZDLE9BQ0FELEVBQUUsZUFBQUMsT0FBRkQsRUFBRSxvQkFBb0JDLE9BSXRCQyxnQkFBQUMsYUFBQUMsU0FDQUYsUUFBUUcsSUFBSUQsT0FDWkUsUUFBQUEsSUFBQUEsU0FDQUMsZUFBV0gsT0FDYkcsV0FBQUgsU0FFSUYsRUFBQUEsaUJBQVlNLE1BQUEsV0FDWlIsUUFBRUssSUFBRixvQkFDQUksRUFBQUEsWUFBQUEsT0FDQVAsZUFBWU8sR0FBQUEsT0FBWkMsVUFKRlIsUUFBQUcsSUFBQUksaUJBVUVULEVBQUFBLGdCQUFlVyxNQUFmLFdBREFYLEVBQUUsYUFBYVksT0FHYkMsRUFBQUEsYUFBU0YsU0FFWEcsUUFBQUEsSUFFSEEsaUJBU0MsUUFBTUMsY0FBV0MsR0FFZixHQUFBRCxHQUFZRSxFQUFMQyxNQUFQLEVBRUYsT0FEQ0gsR0FGREksS0FBQSxXQUdBLE1BQU9KLE1BQUFBLFNBQVAsS0FBT0EsRUFNTGYsUUFBRU0sa0JBRUFjLElBQUFBLEdBQUFBLEdBQVEsRUFBQUMsRUFBQUMsTUFBQUMsT0FERUYsSUFFVkcsRUFBQUEsV0FBWUMsS0FBQUgsTUFGRkQsR0FBQUssZ0JBQUFMLEVBQUEsSUFBQU0sU0FBQSxjQUdWQyxXQUpGUixPQUFBLGdCQU1ESSxXQUFBLFVBQ0ZJLEtBQUFDLGlCQU1HN0IsUUFBRU8sY0FFQXVCLElBQUFBLEdBQUFBLEdBQU8sRUFBQVQsRUFBQVUsZ0JBRnNKUixPQUFBRixJQUc3SlcsRUFBQUEsV0FBUVAsS0FIcUpNLGdCQUFBVixHQUFBSyxnQkFBQXRCLFFBQUE2QixRQUFBRixnQkFBQVYsSUFBQSxJQUFBYSxLQUFBLEtBQUEsT0FBQWIsR0FBQU0sU0FBQSxhQUFBUSxXQUk3SkMsWUFBUSxXQUpWTixNQUFBLGdCQU1ERSxPQUFBLE9BQ0ZJLFFB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QUVYSixTQUFBQSx5REFDRUssU0FERixTQUFBLFNBQUEsV0FyQkZBLE9BQUEsSUEyQklBLFNBQUFBLHFDQUNBRyxTQUFBQSxtQkFBQUEsd0JBQUFBLHlCQUdKSCxPQUFTUixJQUNQbkUsU0FBQUEsMENBQ0EwRSxTQUFBLE9BQUEsVUFBQSxTQUdBQyxPQUFNQyxHQUNORSxnQkFBZ0JQLEVBQ2hCQyxhQUFnQkQsR0FDaEJDLE1BQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnNvbGUubG9nKCdKUyBsb2FkZWQnKTtcblxubGV0IGNvcnJlY3RDYXJkcyA9IDA7XG5sZXQgdHVybk51bWJlciA9IDE7XG5cbmNvbnN0IG51bWJlcnNUd28gPSBbJ1Byb3RvbicsICdOZXV0cm9uJywgJ1Bvc2l0cm9uJywgJ1xcdTAzQzArJywnXFx1MDNDMC0nLCAnSysnLCdLLScsJ1xcdTAzQzBcXHUyMDcwJ107XG5jb25zdCBudW1iZXJzVGhyZWUgPVsnR3Jhdml0YXRpb25hbCcsICdHcmF2aXRhdGlvbmFsMScsICd3ZWFrJywgJ3dlYWsxJywgJ0VNJywgJ0VNMScsICdTdHJvbmcnLCAnU3Ryb25nMSddO1xuY29uc3QgbnVtYmVyc09uZSA9IFsnUHJvdG9uJywgJ05ldXRyb24nLCAnRWxlY3Ryb24nLCAnUG9zaXRyb24nLCAnUGlvbisnLCAnS2FvbisnLCAna2Fvbi0nLCAnUGlvbiddO1xuXG5jb25zdCBzbG90c1R3bz0gWyd1dWQnLCAndWRkJywnXFx1MjAzRXUnLCd1LWQnLCAnLXVkJywnLXVkJywgJy1kdScsICd1LXUnXTtcbmNvbnN0IHNsb3RzVGhyZWUgPSBbJ2FmZmVjdHMgYWxsIHBhcnRpY2xlcyB3aXRoIG1hc3MnLCAnaW5maW5pdGUgcmFuZ2UnLCAnYWZmZWN0cyBhbGwgcGFydGljbGVzJywgJ3Jlc3BvbnNhYmxlIGZvciBiZXRhIGRlY2F5JywgJ2FmZmVjdHMgYWxsIHBhcnRpY2xlcyB3aXRoIGNoYXJnZScsICdpbmZpbml0ZSByYW5nZScsICdhZmZlY3RzIGhhZHJvbnMnLCAndmVyeSBzaG9ydCByYW5nZSddO1xuY29uc3Qgc2xvdHNPbmUgPSBbJ3AnLCAnbicsJ2UnLCAncC0nLCdcXHUwM0MwKycsICdLKycsJ0stJywnXFx1MDNDMFxcdTIwNzAnXTtcblxubGV0IHNodWZmbGVkTnVtYmVycz0gW107XG5sZXQgc2xvdHMgPXNsb3RzT25lO1xubGV0IG51bWJlcnMgPSBudW1iZXJzT25lO1xuXG5sZXQgY29ycmVjdENsYXNzaWZpY2F0aW9uID0gMDtcbmxldCBsZXZlbE9uZVN0YXJ0ID0gJyc7XG5sZXQgbGV2ZWxPbmVFbmQgPSAnJztcbmxldCBsZXZlbE9uZVNjb3JlID0gJyc7XG5sZXQgbGV2ZWxUd29TdGFydCA9ICcnO1xubGV0IGxldmVsVHdvRW5kID0gJyc7XG5sZXQgbGV2ZWxUd29TY29yZSA9ICcnO1xuXG4vL3J1biBmdW5jdGlvbiBmb3IgdGhlIGZpcnN0IHRpbWUgZm9yIHR1cm4gMS5cbiQoIGluaXQgKTtcblxuXG5cblxuZnVuY3Rpb24gaW5pdCgpIHtcbiAgLy8gU2hvdyBvbmx5IHRoZSBmaXJzdCBnYW1lLlxuICAkKCcjbGV2ZWxUd28nKS5oaWRlKCk7XG4gICQoJyNsZXZlbFRocmVlJykuaGlkZSgpO1xuICAkKCcjY2hhcnQtY29udGFpbmVyJykuaGlkZSgpO1xuXG4gIC8vc2hvdyBvbmx5IG9uZSBwYWlyIG9mIGFycmF5cyBhdCBhIHRpbWVcbiAgc2h1ZmZsZWROdW1iZXJzID0gc2h1ZmZsZUFycmF5KG51bWJlcnMpO1xuICBjb25zb2xlLmxvZyhzbG90cyk7XG4gIGNvbnNvbGUubG9nKG51bWJlcnMpO1xuICBjYXJkU2xvdEFzc2lnbihzbG90cyk7XG4gIGNhcmRBc3NpZ24obnVtYmVycyk7XG4vL3N0YXJ0IGJ1dHRvbiB0byBjb2xsZWN0IHRpbWUgc3RhbXAuXG4gICQoJy5zdGFydC1idXR0b24nKS5jbGljaygoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ3dlbGNvbWUgY2xpY2tlZCEnKTtcbiAgICAkKCcjd2VsY29tZScpLmhpZGUoKTtcbiAgICBsZXZlbE9uZVN0YXJ0ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICBjb25zb2xlLmxvZyhsZXZlbE9uZVN0YXJ0KTtcblxuICB9KTtcbiAgLy9za2lwIGJ1dHRvbiBmb3IgZGV2ZWxvcG1lbnQgcHVycG9zZXMgb25seS5cbiAgJCgnLnNraXAtYnV0dG9uJykuY2xpY2soKCkgPT4ge1xuICAgICQoJyNsZXZlbFR3bycpLnNob3coKTtcbiAgICAkKCcjbGV2ZWxUd28nKS5hbmltYXRlKCB7XG5cbiAgICAgIG9wYWNpdHk6IDFcbiAgICB9ICk7XG4gICAgbGV2ZWxUd29QbGF5KCk7XG4gIH0pO1xufVxuXG4vLyBSZXNldCB0aGUgZ2FtZVxuY29ycmVjdENhcmRzID0gMDtcbiQoJyNjYXJkUGlsZScpLmh0bWwoICcnICk7XG5cbi8vdG8gc2h1ZmZsZSB0aGUgY2FyZHMgc28gaXQgaXMgZGlmZmVyZW50IGVhY2ggdGltZSBmb3IgdGhlIHBsYXllci5cbmZ1bmN0aW9uIHNodWZmbGVBcnJheShhcnJheSkge1xuICAvLyBmaXNoZXIteWF0ZXMgc2h1ZmZsZVxuICBjb25zdCBuZXdBcnJheSA9IGFycmF5LnNsaWNlKDApO1xuICBuZXdBcnJheS5zb3J0KCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAtIDAuNTtcbiAgfSk7XG4gIHJldHVybiBuZXdBcnJheTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBjYXJkIHNsb3RzXG5mdW5jdGlvbiBjYXJkU2xvdEFzc2lnbigpIHtcbiAgZm9yICggbGV0IGk9MDsgaTxzbG90cy5sZW5ndGg7IGkrKyApIHtcbiAgICAkKCc8ZGl2IC8+JywgeyB0ZXh0OiBzbG90c1tpXSwgJ2RhdGEtcG9zaXRpb24nOiBpICsgMSB9KS5hcHBlbmRUbygnI2NhcmRTbG90cycpXG4gICAgLmRyb3BwYWJsZSgge1xuICAgICAgYWNjZXB0OiAnI2NhcmRQaWxlIGRpdicsXG4gICAgICBob3ZlckNsYXNzOiAnaG92ZXJlZCcsXG4gICAgICBkcm9wOiBoYW5kbGVDYXJkRHJvcFxuICAgIH0gKTtcbiAgfVxufVxuXG4vLyBDcmVhdGUgdGhlIHBpbGUgb2Ygc2h1ZmZsZWQgY2FyZHNcbmZ1bmN0aW9uIGNhcmRBc3NpZ24oKXtcblxuICBmb3IgKCBsZXQgaT0wOyBpPHNodWZmbGVkTnVtYmVycy5sZW5ndGg7IGkrKyApIHtcbiAgICAkKCc8ZGl2IC8+JywgeyB0ZXh0OiBzaHVmZmxlZE51bWJlcnNbaV0sICdkYXRhLXBvc2l0aW9uJzogbnVtYmVycy5pbmRleE9mKHNodWZmbGVkTnVtYmVyc1tpXSkgKyAxIH0pLmF0dHIoICdpZCcsICdjYXJkJytpICkuYXBwZW5kVG8oICcjY2FyZFBpbGUnICkuZHJhZ2dhYmxlKCB7XG4gICAgICBjb250YWlubWVudDogJyNjb250ZW50JyxcbiAgICAgIHN0YWNrOiAnI2NhcmRQaWxlIGRpdicsXG4gICAgICBjdXJzb3I6ICdtb3ZlJyxcbiAgICAgIHJldmVydDogdHJ1ZVxuICAgIH0gKTtcbiAgfVxufVxuLy9kcmFnZ2luZyB0aGUgY2FyZHMgdG8gdGhlIHJpZ2h0IHNsb3QuXG5mdW5jdGlvbiBoYW5kbGVDYXJkRHJvcCggZXZlbnQsIHVpICkge1xuXG4gIHZhciBzbG90TnVtYmVyID0gJCh0aGlzKS5kYXRhKCdwb3NpdGlvbicpO1xuICB2YXIgY2FyZE51bWJlciA9IHVpLmRyYWdnYWJsZS5kYXRhKCdwb3NpdGlvbicpO1xuICBjb25zb2xlLmxvZyhzbG90TnVtYmVyLCBjYXJkTnVtYmVyKTtcbiAgLy8gSWYgdGhlIGNhcmQgd2FzIGRyb3BwZWQgdG8gdGhlIGNvcnJlY3Qgc2xvdCxjaGFuZ2UgdGhlIGNhcmQgY29sb3VyLCBwb3NpdGlvbiBpdCBkaXJlY3RseVxuICAvLyBvbiB0b3Agb2YgdGhlIHNsb3QsIGFuZCBwcmV2ZW50IGl0IGJlaW5nIGRyYWdnZWQgYWdhaW5cbiAgaWYgKCBzbG90TnVtYmVyID09PSBjYXJkTnVtYmVyICkge1xuICAgIHVpLmRyYWdnYWJsZS5hZGRDbGFzcyggJ2NvcnJlY3QnICk7XG4gICAgdWkuZHJhZ2dhYmxlLmRyYWdnYWJsZSggJ2Rpc2FibGUnICk7XG4gICAgJCh0aGlzKS5kcm9wcGFibGUoICdkaXNhYmxlJyApO1xuICAgIHVpLmRyYWdnYWJsZS5wb3NpdGlvbiggeyBvZjogJCh0aGlzKSwgbXk6ICdsZWZ0IHRvcCcsIGF0OiAnbGVmdCB0b3AnIH0gKTtcbiAgICB1aS5kcmFnZ2FibGUuZHJhZ2dhYmxlKCAnb3B0aW9uJywgJ3JldmVydCcsIGZhbHNlICk7XG4gICAgY29ycmVjdENhcmRzKys7XG4gIH1cbiAgLy8gSWYgYWxsIHRoZSBjYXJkcyBoYXZlIGJlZW4gcGxhY2VkIGNvcnJlY3RseSBtb3ZlIG9udG8gbmV4dCByb3VuZCwgdW5sZXNzIGZpbmFsIHJvdW5kLCBkaXNwbGF5IHN1Y2Nlc3MgbWVzc2FnZS5cbiAgLy90byB0YWtlIHBsYXllciB0byAybmQgcm91bmRcbiAgaWYgKGNvcnJlY3RDYXJkcyA9PT0gOCAmJiB0dXJuTnVtYmVyID09PSAxKXtcbiAgICBzbG90cyA9IHNsb3RzVHdvO1xuICAgIG51bWJlcnMgPSBudW1iZXJzVHdvO1xuICAgIHR1cm5OdW1iZXIrKztcbiAgICAkKCcjY2FyZFBpbGUnKS5odG1sKCAnJyApO1xuICAgICQoJyNjYXJkU2xvdHMnKS5odG1sKCAnJyApO1xuICAgIGluaXQoKTtcbiAgICAvL3RvIHRha2UgcGxheWVyIG9udG8gdGhlIDNyZCByb3VuZC5cbiAgfSBlbHNlIGlmIChjb3JyZWN0Q2FyZHMgPT09IDE2ICYmIHR1cm5OdW1iZXIgPT09IDIpe1xuICAgIHNsb3RzID0gc2xvdHNUaHJlZTtcbiAgICBudW1iZXJzID0gbnVtYmVyc1RocmVlO1xuICAgIHR1cm5OdW1iZXIrKztcbiAgICAkKCcjY2FyZFBpbGUnKS5odG1sKCAnJyApO1xuICAgICQoJyNjYXJkU2xvdHMnKS5odG1sKCAnJyApO1xuICAgIGluaXQoKTtcbiAgICAvL3RvIGNvbXBsZXRlIGxldmVsIDFcbiAgfSBlbHNlIGlmICggY29ycmVjdENhcmRzID09PSAyNCAmJiB0dXJuTnVtYmVyID09PSAzKSB7XG4gICAgY29uc29sZS5sb2coJ0NPTVBMRVRFRCEnKTtcbiAgICBsZXZlbE9uZUVuZCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgY29uc29sZS5sb2cobGV2ZWxPbmVFbmQpO1xuICAgIGxldmVsT25lU2NvcmUgPSBNYXRoLnJvdW5kKCgxMDAgLSAoKGxldmVsT25lRW5kIC0gbGV2ZWxPbmVTdGFydCkvMTAwMCkpLzEwKTtcbiAgICBjb25zb2xlLmxvZyhsZXZlbE9uZVNjb3JlKTtcbiAgICAkKCcjbGV2ZWxUd28nKS5zaG93KCk7XG4gICAgJCgnI2xldmVsVHdvJykuYW5pbWF0ZSgge1xuXG4gICAgICBvcGFjaXR5OiAxXG4gICAgfSApO1xuICAgIGxldmVsVHdvU3RhcnQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgIGNvbnNvbGUubG9nKGxldmVsVHdvU3RhcnQpO1xuICAgIGxldmVsVHdvUGxheSgpO1xuICB9XG59XG4vL0VORCBPRiBMRVZFTCAxLy8vLy8vU1RBUlQgT0YgTEVWRUwgMi8vLy8vXG5mdW5jdGlvbiBsZXZlbFR3b1BsYXkoKSB7XG4gIGNvbnNvbGUubG9nKCdsZXZlbFR3b1BsYXknKTtcbiAgY29uc29sZS5sb2coJCgnLnVuY2xhc3NpZmllZFBhcnRpY2xlJykpO1xuICAkKCcudW5jbGFzc2lmaWVkUGFydGljbGUnKS5kcmFnZ2FibGUoe1xuICAgIGNvbnRhaW5tZW50OiAnbGV2ZWxUd28nLFxuICAgIHJldmVydDogdHJ1ZVxuXG4gIH0pO1xuXG4gICQoJyNtZXNvbnMnKS5kcm9wcGFibGUoe1xuICAgIGFjY2VwdDogJy5tZXNvbnMnLFxuICAgIGRyb3A6IGxldmVsVHdvRHJvcEV2ZW50XG5cbiAgfSk7XG4gICQoJyNiYXJ5b25zJykuZHJvcHBhYmxlKHtcbiAgICBhY2NlcHQ6ICcuYmFyeW9ucycsXG4gICAgZHJvcDogbGV2ZWxUd29Ecm9wRXZlbnRcbiAgfSk7XG4gICQoJyNsZXB0b24nKS5kcm9wcGFibGUoe1xuICAgIGFjY2VwdDogJy5sZXB0b25zJyxcbiAgICBkcm9wOiBsZXZlbFR3b0Ryb3BFdmVudFxuICB9KTtcbn1cblxuZnVuY3Rpb24gbGV2ZWxUd29Ecm9wRXZlbnQoIGV2ZW50LCB1aSApIHtcbiAgdmFyIHBhcnRpY2xlRGl2ID0gJCh0aGlzKS5kYXRhKCdwb3NpdGlvbicpO1xuICB2YXIgcGFydGljbGVDbGFzc2lmaWNhdGlvbiA9IHVpLmRyYWdnYWJsZS5kYXRhKCdwb3NpdGlvbicpO1xuICBpZiAocGFydGljbGVEaXYgPT09IHBhcnRpY2xlQ2xhc3NpZmljYXRpb24pe1xuICAgIHVpLmRyYWdnYWJsZS5hZGRDbGFzcyggJ2NvcnJlY3QnICk7XG4gICAgdWkuZHJhZ2dhYmxlLmRyYWdnYWJsZSggJ29wdGlvbicsICdyZXZlcnQnLCBmYWxzZSApO1xuICAgIGNvcnJlY3RDbGFzc2lmaWNhdGlvbiArKztcbiAgICBjb25zb2xlLmxvZyhjb3JyZWN0Q2xhc3NpZmljYXRpb24pO1xuXG4gICAgaWYgKCBjb3JyZWN0Q2xhc3NpZmljYXRpb24gPT09IDEwKSB7XG4gICAgICBsZXZlbFR3b0VuZCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICBjb25zb2xlLmxvZyhsZXZlbFR3b0VuZCk7XG4gICAgICBsZXZlbFR3b1Njb3JlID0gTWF0aC5yb3VuZCgoMTAwIC0gKChsZXZlbFR3b0VuZCAtIGxldmVsVHdvU3RhcnQpLzEwMDApKS8xMCk7XG4gICAgICBjb25zb2xlLmxvZyhsZXZlbFR3b1Njb3JlKTtcbiAgICAgIGNvbnNvbGUubG9nKCdMZXZlbCBUaHJlZScpO1xuICAgICAgJCgnI2xldmVsVGhyZWUnKS5zaG93KCk7XG4gICAgICAkKCcjbGV2ZWxUaHJlZScpLmFuaW1hdGUoIHtcblxuICAgICAgICBvcGFjaXR5OiAxXG4gICAgICB9ICk7XG4gICAgICBsZXZlbFRocmVlUGxheSgpO1xuICAgICAgYnV0dG9uQ2xpY2soKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgcXVlc3Rpb25zID1bXG4gIHtcbiAgICBhbnN3ZXI6ICdhJyxcbiAgICBxdWVzdGlvbjogYFdoaWNoIG9mIHRoZSBmdW5kYW1lbnRhbCBmb3JjZXMgZG8gTGVwdG9uJ3Mgbm90IGV4cGVyaWVuY2U/YCxcbiAgICBvcHRpb25zOiBbYFN0cm9uZyBOdWNsZWFyIEZvcmNlYCwgYFdlYWsgSW50ZXJhY3Rpb25gLCBgRWxlY3Ryb21hZ25ldGljIGZvcmNlYF1cbiAgfSxcbiAge1xuICAgIGFuc3dlcjogJ2MnLFxuICAgIHF1ZXN0aW9uOiBgV2hhdCBpcyB0aGUgY2hhcm0gcXVhcmsncyBhbnRpIHF1YXJrP2AsXG4gICAgb3B0aW9uczogW2BVcGAsIGBUb3BgLCBgU3RyYW5nZWBdXG4gIH0sXG4gIHtcbiAgICBhbnN3ZXI6ICdjJyxcbiAgICBxdWVzdGlvbjogYFdoaWNoIHBhcnRpY2xlIHR5cGUgY29uc2lzdHMgb2YgcXVhcmstYW50aXF1YXJrIHBhaXJzP2AsXG4gICAgb3B0aW9uczogW2BCYXJ5b25gLCBgTGVwdG9uYCwgYE1lc29uYF1cbiAgfSxcbiAge1xuICAgIGFuc3dlcjogJ2EnLFxuICAgIHF1ZXN0aW9uOiBgV2hlbiBpcyBzdHJhbmdlbmVzcyBub3QgY29uc2VydmVkP2AsXG4gICAgb3B0aW9uczogW2B3ZWFrIGludGVyYWN0aW9uYCwgYGVsZWN0cm9tYWduZXRpYyBmb3JjZWAsIGBncmF2aXRhdGlvbmFsIGZvcmNlYF1cbiAgfSxcbiAge1xuICAgIGFuc3dlcjogJ2InLFxuICAgIHF1ZXN0aW9uOiBgV2hpY2ggb2YgdGhlIGZvbGxvd2luZyBpcyBub3QgYSBMZXB0b24/YCxcbiAgICBvcHRpb25zOiBbYE11b25gLCBgTmV1dHJvbmAsIGBUYXVgXVxuICB9XG5dO1xubGV0IGFuc3dlciA9ICcnO1xubGV0IGNvcnJlY3RRdWVzdGlvbiA9IDA7XG5sZXQgYWN0dWFsQW5zd2VyID0gJyc7XG5sZXQgcm91bmQgPSAwO1xuZnVuY3Rpb24gbGV2ZWxUaHJlZVBsYXkgKCl7XG4gIGNvbnNvbGUubG9nKCdzdGFydCBvZiBsZXZlbCAzJyk7XG4gIC8vIGZvciAobGV0IGkgPSAwOyBpPHF1ZXN0aW9ucy5sZW5ndGg7IGkrKyl7XG4gIC8vdG8gZ2VuZXJhdGUgdGhlIHF1ZXN0aW9uIGZvciBlYWNoIHJvdW5kXG4gIGNvbnN0IGNob3NlblF1ZXN0aW9uID0gcXVlc3Rpb25zW3JvdW5kXS5xdWVzdGlvbjtcbiAgY29uc3QgYW5zd2VyQSA9IHF1ZXN0aW9uc1tyb3VuZF0ub3B0aW9uc1swXTtcbiAgY29uc3QgYW5zd2VyQiA9IHF1ZXN0aW9uc1tyb3VuZF0ub3B0aW9uc1sxXTtcbiAgY29uc3QgYW5zd2VyQyA9IHF1ZXN0aW9uc1tyb3VuZF0ub3B0aW9uc1syXTtcbiAgYWN0dWFsQW5zd2VyID0gcXVlc3Rpb25zW3JvdW5kXS5hbnN3ZXI7XG4gIC8vdG8gcHJpbnQgdGhlIHF1ZXN0aW9ucyBhbmQgdGhlIGJ1dHRvbnNcbiAgJCgnZGl2LnF1ZXN0aW9ucycpLmh0bWwoY2hvc2VuUXVlc3Rpb24pO1xuICAkKCdidXR0b24uYScpLmh0bWwoYW5zd2VyQSk7XG4gICQoJ2J1dHRvbi5iJykuaHRtbChhbnN3ZXJCKTtcbiAgJCgnYnV0dG9uLmMnKS5odG1sKGFuc3dlckMpO1xuICBjb25zb2xlLmxvZygnYW5zd2VyID0gJyArIGFjdHVhbEFuc3dlcik7XG4gIC8vIH1cblxuICAvL3RvIGRldGVybWluZSBpZiBhbnN3ZXIgaXMgY29ycmVjdC5cblxufVxuXG5mdW5jdGlvbiBidXR0b25DbGljaygpe1xuXG4gICQoJy5yb3VuZFRocmVlIGJ1dHRvbicpLmNsaWNrKChlKSA9PiB7XG4gICAgY29uc3QgJGJ1dHRvbiA9ICQoZS50YXJnZXQpO1xuICAgIGNvbnN0IGFuc3dlciA9ICRidXR0b24uYXR0cignY2xhc3MnKTtcblxuICAgIGlmIChhbnN3ZXIgPT09IGFjdHVhbEFuc3dlcil7XG4gICAgICBjb25zb2xlLmxvZygnY29ycmVjdCcpO1xuICAgICAgY29ycmVjdFF1ZXN0aW9uKys7XG4gICAgICBjb25zb2xlLmxvZygnY29ycmVjdFF1ZXN0aW9uPScgKyBjb3JyZWN0UXVlc3Rpb24pO1xuICAgIH1cbiAgICBpZihyb3VuZCA8PSAzKSB7XG4gICAgICByb3VuZCsrO1xuICAgICAgbGV2ZWxUaHJlZVBsYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdHMnKTtcbiAgICAgICQoICdkaXYuZmVlZGJhY2tPbmUnICkuaHRtbCgnU3ltYm9scyBhbmQgQmFzaWNzIFNjb3JlID0gJyArIGxldmVsT25lU2NvcmUpO1xuICAgICAgJCggJ2Rpdi5mZWVkYmFja1R3bycgKS5odG1sKCdwYXJ0aWNsZSBjbGFzc2lmaWNhdGlvbiBTY29yZSA9ICcgKyBsZXZlbFR3b1Njb3JlICk7XG4gICAgICAkKCAnZGl2LmZlZWRiYWNrVGhyZWUnICkuaHRtbCgnQmFzaWMgQ29uY2VwdCBTY29yZSA9ICcgKyBjb3JyZWN0UXVlc3Rpb24pO1xuICAgICAgJCgnI2NoYXJ0LWNvbnRhaW5lcicpLnNob3coKTtcbiAgICAgICQoJyNjaGFydC1jb250YWluZXInKS5hbmltYXRlKCB7XG4gICAgICAgIG9wYWNpdHk6IDFcbiAgICAgIH0gKTtcblxuICAgIH1cbiAgfSk7XG59XG4iXX0=
