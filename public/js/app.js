"use strict";console.log("JS loaded"),$(function(){function e(){B=o(K),t(D),a(K)}function o(e){var o=e.slice(0);return o.sort(function(){return Math.random()-.5}),o}function t(e){for(var o=0;o<e.length;o++)$("<div />",{text:e[o],"data-position":o+1}).appendTo("#cardSlots").droppable({accept:"#cardPile div",hoverClass:"hovered",drop:n})}function a(e){for(var o=0;o<B.length;o++)$("<div />",{text:B[o],"data-position":e.indexOf(B[o])+1}).attr("id","card"+o).appendTo("#cardPile").draggable({containment:"#levelOne",stack:"#cardPile div",cursor:"move",revert:!0})}function n(o,t){var a=$(this).data("position"),n=t.draggable.data("position");console.log(a,n),a===n&&(t.draggable.addClass("correct"),t.draggable.draggable("disable"),$(this).droppable("disable"),t.draggable.position({of:$(this),my:"left top",at:"left top"}),t.draggable.draggable("option","revert",!1),P++,console.log(P)),8===P&&1===q?(D=M,K=y,q++,v.html(""),f.html(""),e()):16===P&&2===q?(D=L,K=C,q++,v.html(""),f.html(""),e()):24===P&&3===q&&(x=(new Date).getTime(),N=Math.round((100-(x-W)/1e3)/10),console.log(N),g.show(),p.hide(),console.log("leveltworevealed"),A=(new Date).getTime(),r())}function r(){console.log("levelTwoPlay"),console.log(m),m.draggable({containment:"levelTwo",revert:!0}),w.droppable({accept:".mesons",drop:s}),k.droppable({accept:".baryons",drop:s}),T.droppable({accept:".leptons",drop:s})}function s(e,o){$(this).data("position")===o.draggable.data("position")&&(o.draggable.draggable("option","revert",!1),10==++F&&(Q=(new Date).getTime(),E=Math.round((100-(Q-A)/1e3)/10),console.log(E),console.log("Level Three"),h.show(500),g.hide(),i(),l()))}function i(){console.log("start of level 3");var e=J[z].question,o=J[z].options[0],t=J[z].options[1],a=J[z].options[2];j=J[z].answer,$("div.questions").html(e),$("button.a").html(o),$("button.b").html(t),$("button.c").html(a)}function l(){$(".roundThree button").click(function(e){if($(e.target).attr("class")===j&&U++,z<=3)z++,i();else{console.log("results"),$("div.feedbackOne p").html(N);var o="average";N>4&&(o="good"),N<3&&(o="bad"),$(".feedbackOne").addClass(o),$("div.feedbackTwo p").html(E);var t="average";E>6&&(t="good"),E<5&&(t="bad"),$(".feedbackTwo").addClass(t),$("div.feedbackThree p").html(U);var a="average";U>4&&(a="good"),U<3&&(a="bad"),$(".feedbackThree").addClass(a),h.hide(),$("#studentFeedback").show(),N+U+E>13?$("#superstar").show():N<(E&&U)?$("#improveSymbols").show():E<(N&&U)?$("#improveClassification").show():U<(E&&N)&&$("#basicConcepts").show()}})}var c=$(".start-button"),d=$(".skip-button"),u=$("#welcome"),p=$("#levelOne"),g=$("#levelTwo"),h=$("#levelThree"),b=$(".fullscreen-bg"),v=$("#cardPile"),f=$("#cardSlots"),m=$(".unclassifiedParticle"),w=$("#mesons"),k=$("#baryons"),T=$("#lepton"),P=0,q=1,y=["Proton","Neutron","k⁰","π+","π-","K+","K-","π⁰"],C=["Q","B","S","γ","b","ν","L","e⁰ "],S=["Proton","Neutron","Electron","Positron","tau","Kaon+","Muon","Pion"],M=["uud","udd","ds̄","ūd","d̄u","us̄","ūs","uū"],L=["Charge","Baryon number","Strangeness","photon","Bottom Quark","neutrino","Lepton number","positron"],O=["p","n","e","p̄","τ","K+","μ","π⁰"],B=[],D=O,K=S,W="",x="",N="",A="",Q="",E="",F=0,J=[{answer:"a answer-button",question:"the creation of a particle and its anti-particle when a gamma ray photon passes close to a nucleus.",options:["Pair Production","Pair Annihilation","Anti-matter"]},{answer:"c answer-button",question:"What is the charm quark's anti quark?",options:["Up","Top","Strange"]},{answer:"c answer-button",question:"Which particle type consists of quark-antiquark pairs?",options:["Baryon","Lepton","Meson"]},{answer:"a answer-button",question:"When is strangeness not conserved?",options:["weak interaction","electromagnetic force","gravitational force"]},{answer:"b answer-button",question:"Which of the following is not a Lepton?",options:["Muon","Neutron","Tau"]}],U=0,j="",z=0;c.click(function(){e(),console.log("welcome clicked!"),u.hide(10),b.hide(10),p.show(50),W=(new Date).getTime(),console.log(W)}),d.click(function(){g.show(),g.animate({opacity:1}),r()}),v.html("")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJjb25zb2xlIiwibG9nIiwiJCIsImNhcmRBc3NpZ24iLCIkc3RhcnRCdXR0b24iLCJzaHVmZmxlQXJyYXkiLCJudW1iZXJzIiwibGV2ZWxPbmVQbGF5IiwiYXJyYXkiLCJuZXdBcnJheSIsInNsaWNlIiwiYWNjZXB0IiwiY2FyZFNsb3RBc3NpZ24iLCJpIiwicmFuZG9tIiwic2xvdHMiLCJsZW5ndGgiLCJ0ZXh0IiwiZGF0YS1wb3NpdGlvbiIsImFwcGVuZFRvIiwiZHJvcHBhYmxlIiwiaG92ZXJDbGFzcyIsImRyb3AiLCJoYW5kbGVDYXJkRHJvcCIsInNodWZmbGVkTnVtYmVycyIsImluZGV4T2YiLCJhdHRyIiwiZHJhZ2dhYmxlIiwiY29udGFpbm1lbnQiLCJzdGFjayIsInNsb3ROdW1iZXIiLCJjYXJkTnVtYmVyIiwidWkiLCJldmVudCIsInRoaXMiLCJkYXRhIiwicG9zaXRpb24iLCJhZGRDbGFzcyIsImNvcnJlY3RDYXJkcyIsInR1cm5OdW1iZXIiLCJzbG90c1R3byIsIm51bWJlcnNUd28iLCJvZiIsIm15IiwiYXQiLCIkY2FyZFBpbGUiLCIkY2FyZFNsb3RzIiwiaHRtbCIsInNsb3RzVGhyZWUiLCJudW1iZXJzVGhyZWUiLCJsZXZlbE9uZUVuZCIsImxldmVsT25lU2NvcmUiLCIkbGV2ZWxUd28iLCJzaG93IiwiJGxldmVsT25lIiwiaGlkZSIsImxldmVsVHdvUGxheSIsIkRhdGUiLCJnZXRUaW1lIiwiTWF0aCIsInJvdW5kIiwibGV2ZWxPbmVTdGFydCIsIiR1bmNsYXNzaWZpZWRQYXJ0aWNsZSIsIiRtZXNvbnMiLCJsZXZlbFR3b0Ryb3BFdmVudCIsIiRiYXJ5b25zIiwiJGxlcHRvbiIsInBhcnRpY2xlQ2xhc3NpZmljYXRpb24iLCJwYXJ0aWNsZURpdiIsImxldmVsVHdvRW5kIiwibGV2ZWxUd29TY29yZSIsIiRsZXZlbFRocmVlIiwibGV2ZWxUaHJlZVBsYXkiLCJidXR0b25DbGljayIsImNob3NlblF1ZXN0aW9uIiwiYW5zd2VyQiIsInF1ZXN0aW9uIiwiYW5zd2VyQSIsIm9wdGlvbnMiLCJxdWVzdGlvbnMiLCJhbnN3ZXJDIiwiYWN0dWFsQW5zd2VyIiwiYW5zd2VyIiwiZSIsInRhcmdldCIsIiRidXR0b24iLCJsZXZlbFRocmVlU2NvcmUiLCJsZXZlbFR3b0NsYXNzIiwibGV2ZWxPbmVDbGFzcyIsImxldmVsVGhyZWVDbGFzcyIsInRvdGFsU2NvcmUiLCIkc2tpcEJ1dHRvbiIsIiR3ZWxjb21lIiwiJGZ1bGxTY3JlZW5CZyIsInNsb3RzT25lIiwibGV2ZWxUd29TdGFydCIsImNvcnJlY3RDbGFzc2lmaWNhdGlvbiIsImNsaWNrIiwib3BhY2l0eSJdLCJtYXBwaW5ncyI6IllBQUFBLFNBQVFDLElBQUksYUFDWkMsRUFBRSxXQXFGRUMsUUFBQUEsS0FJRkMsRUFBbUJDLEVBQU1DLEdBQ3ZCQyxFQUFBQSxHQUNBUCxFQUFBTSxHQTRCRCxRQUFBRCxHQUFBRyxHQUVELEdBQUFDLEdBQUFELEVBQUFFLE1BQUEsRUFLTUMsT0FKTkYsR0FBU0csS0FBQUEsV0FDUCxNQUFVQyxNQUFWQyxTQUFpQkMsS0FHYkosRUFJSCxRQUFBQyxHQUFBRyxHQUNGLElBQUEsR0FBQUYsR0FBQSxFQUFBQSxFQUFBRSxFQUFBQyxPQUFBSCxJQVBHWCxFQUFFLFdBQWFlLEtBQU1GLEVBQU1GLEdBQUlLLGdCQUFpQkwsRUFBSSxJQUFLTSxTQUFTLGNBU3RFQyxXQUNBVCxPQUFTUixnQkFDUGtCLFdBQWVSLFVBQ1hTLEtBQUFDLElBTUgsUUFBQXBCLEdBQUFHLEdBQ0YsSUFBQSxHQUFBTyxHQUFBLEVBQUFBLEVBQUFXLEVBQUFSLE9BQUFILElBQ0RYLEVBQUEsV0FBQWUsS0FBQU8sRUFBQVgsR0FBQUssZ0JBQUFaLEVBQUFtQixRQUFBRCxFQUFBWCxJQUFBLElBQUFhLEtBQUEsS0FBQSxPQUFBYixHQUFBTSxTQUFBLGFBQUFRLFdBQ0FDLFlBQVNMLFlBUEhNLE1BQU8sZ0JBU1BDLE9BQUFBLE9BQ0FDLFFBQUFBLElBS0ZDLFFBQUdMLEdB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LE9BQWxGQSxHQUFXLFNBQWEsZ0JBQVcsY0FBWSxTQUFXLGVBQWhELFdBQUEsZ0JBQWhCLFlBQ01RLEdBQWMsSUFBQSxJQUFELElBQVcsS0FBQSxJQUFpQixLQUFBLElBQWUsTUFHMUR4QixLQUFBQSxFQUFBQSxFQUNBVCxFQUFRK0UsRUFHUmpDLEVBQWdCLEdBQWhCQSxFQUFBQSxHQUNBWCxFQUFKLEdBS0k2QyxFQUFnQixHQUFoQkEsRUFBQUEsR0FDQTFCLEVBQUosR0FHQTJCLEVBQUEsRUFHTWpCLElBRUZHLE9BQVEsa0JBQ1JOLFNBQUFBLHNHQUNBRSxTQUFTLGtCQUFBLG9CQUFBLGlCQUlURixPQUFBQSxrQkFDQUUsU0FBQUEsd0NBRUZBLFNBQUEsS0FBQSxNQUFBLGFBR0VBLE9BQVMsa0JBRVhGLFNBQUFBLHlEQUNFTSxTQUFRLFNBQUEsU0FBQSxXQUlWQSxPQUFBLGtCQUNFQSxTQUFBQSxxQ0FDQU4sU0FBQUEsbUJBQUFBLHdCQUFBQSx5QkFEQU0sT0FBUSxrQkFNUkksU0FBQUEsMENBQ0FMLFNBQUFBLE9BQUFBLFVBQUFBLFNBREFLLEVBQWtCLEVBTXRCTCxFQUFTMUUsR0FDUHFELEVBQUEsQ0FjQUMsR0FBQUEsTUFBaUIsV0FDakI3RCxJQVBGQSxRQUFBQyxJQUFBLG9CQVVBMkYsRUFBQXJDLEtBQUEsSUFDQW9DLEVBQVlNLEtBQU0sSUFDaEI3QyxFQUFVQyxLQUFWLElBQ0FELEdBQUEsR0FBbUJLLE9BQUFDLFVBQ2pCd0MsUUFBQUEsSUFBU3JDLEtBSGI4QixFQUFZTSxNQUFNLFdBUWxCN0MsRUFBQUMsT0FDQVIsRUFBVUUsU0FOTm1ELFFBQVMsSUFTYjFDLE1BSUlYLEVBQUFFLEtBQVlqQyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zb2xlLmxvZygnSlMgbG9hZGVkJyk7XG4kKCgpPT57XG5cbiAgY29uc3QgJHN0YXJ0QnV0dG9uID0gJCgnLnN0YXJ0LWJ1dHRvbicpO1xuICBjb25zdCAkc2tpcEJ1dHRvbiA9ICQoJy5za2lwLWJ1dHRvbicpO1xuICBjb25zdCAkd2VsY29tZSA9ICQoJyN3ZWxjb21lJyk7XG4gIGNvbnN0ICRsZXZlbE9uZSA9ICQoJyNsZXZlbE9uZScpO1xuICBjb25zdCAkbGV2ZWxUd28gPSAkKCcjbGV2ZWxUd28nKTtcbiAgY29uc3QgJGxldmVsVGhyZWUgPSAkKCcjbGV2ZWxUaHJlZScpO1xuICBjb25zdCAkZnVsbFNjcmVlbkJnID0gJCgnLmZ1bGxzY3JlZW4tYmcnKTtcbiAgY29uc3QgJGNhcmRQaWxlID0gJCgnI2NhcmRQaWxlJyk7XG4gIGNvbnN0ICRjYXJkU2xvdHMgPSAkKCcjY2FyZFNsb3RzJyk7XG4gIGNvbnN0ICR1bmNsYXNzaWZpZWRQYXJ0aWNsZSA9ICQoJy51bmNsYXNzaWZpZWRQYXJ0aWNsZScpO1xuICBjb25zdCAkbWVzb25zID0gJCgnI21lc29ucycpO1xuICBjb25zdCAkYmFyeW9ucyA9ICQoJyNiYXJ5b25zJyk7XG4gIGNvbnN0ICRsZXB0b24gPSAkKCcjbGVwdG9uJyk7XG5cblxuICAvL2xldmVsIG9uZSBjb25zdGFudHMvLy9cbiAgbGV0IGNvcnJlY3RDYXJkcyA9IDA7XG4gIGxldCB0dXJuTnVtYmVyID0gMTtcblxuICBjb25zdCBudW1iZXJzVHdvID0gWydQcm90b24nLCAnTmV1dHJvbicsICdrXFx1MjA3MCcsICdcXHUwM0MwKycsJ1xcdTAzQzAtJywgJ0srJywnSy0nLCdcXHUwM0MwXFx1MjA3MCddO1xuICBjb25zdCBudW1iZXJzVGhyZWUgPVsnUScsICdCJywgJ1MnLCAnXFx1MDNCMycsICdiJywgJ1xcdTAzQkQnLCAnTCcsICdlXFx1MjA3MCAnXTtcbiAgY29uc3QgbnVtYmVyc09uZSA9IFsnUHJvdG9uJywgJ05ldXRyb24nLCAnRWxlY3Ryb24nLCAnUG9zaXRyb24nLCAndGF1JywgJ0thb24rJywgJ011b24nLCAnUGlvbiddO1xuXG4gIGNvbnN0IHNsb3RzVHdvPSBbJ3V1ZCcsICd1ZGQnLCdkc1xcdTAzMDQnLCd1XFx1MDMwNGQnLCAnZFxcdTAzMDR1JywndXNcXHUwMzA0JywgJ3VcXHUwMzA0cycsICd1dVxcdTAzMDQnXTtcbiAgY29uc3Qgc2xvdHNUaHJlZSA9IFsnQ2hhcmdlJywgJ0JhcnlvbiBudW1iZXInLCAnU3RyYW5nZW5lc3MnLCAncGhvdG9uJywgJ0JvdHRvbSBRdWFyaycsICduZXV0cmlubycsICdMZXB0b24gbnVtYmVyJywgJ3Bvc2l0cm9uJ107XG4gIGNvbnN0IHNsb3RzT25lID0gWydwJywgJ24nLCdlJywgJ3BcXHUwMzA0JywnXFx1MDNDNCcsICdLKycsJ1xcdTAzQkMnLCdcXHUwM0MwXFx1MjA3MCddO1xuXG4gIGxldCBzaHVmZmxlZE51bWJlcnM9IFtdO1xuICBsZXQgc2xvdHMgPSBzbG90c09uZTtcbiAgbGV0IG51bWJlcnMgPSBudW1iZXJzT25lO1xuXG4gIGxldCBsZXZlbE9uZVN0YXJ0ID0gJyc7XG4gIGxldCBsZXZlbE9uZUVuZCA9ICcnO1xuICBsZXQgbGV2ZWxPbmVTY29yZSA9ICcnO1xuXG4gIC8vbGV2ZWwgdHdvIGNvbnN0YW50cy8vLy9cblxuICBsZXQgbGV2ZWxUd29TdGFydCA9ICcnO1xuICBsZXQgbGV2ZWxUd29FbmQgPSAnJztcbiAgbGV0IGxldmVsVHdvU2NvcmUgPSAnJztcblxuICAvL2xldmVsIHRocmVlIGNvbnN0YW50cy8vL1xuICBsZXQgY29ycmVjdENsYXNzaWZpY2F0aW9uID0gMDtcblxuICBjb25zdCBxdWVzdGlvbnMgPVtcbiAgICB7XG4gICAgICBhbnN3ZXI6ICdhIGFuc3dlci1idXR0b24nLFxuICAgICAgcXVlc3Rpb246IGB0aGUgY3JlYXRpb24gb2YgYSBwYXJ0aWNsZSBhbmQgaXRzIGFudGktcGFydGljbGUgd2hlbiBhIGdhbW1hIHJheSBwaG90b24gcGFzc2VzIGNsb3NlIHRvIGEgbnVjbGV1cy5gLFxuICAgICAgb3B0aW9uczogW2BQYWlyIFByb2R1Y3Rpb25gLCBgUGFpciBBbm5paGlsYXRpb25gLCBgQW50aS1tYXR0ZXJgXVxuICAgIH0sXG4gICAge1xuICAgICAgYW5zd2VyOiAnYyBhbnN3ZXItYnV0dG9uJyxcbiAgICAgIHF1ZXN0aW9uOiBgV2hhdCBpcyB0aGUgY2hhcm0gcXVhcmsncyBhbnRpIHF1YXJrP2AsXG4gICAgICBvcHRpb25zOiBbYFVwYCwgYFRvcGAsIGBTdHJhbmdlYF1cbiAgICB9LFxuICAgIHtcbiAgICAgIGFuc3dlcjogJ2MgYW5zd2VyLWJ1dHRvbicsXG4gICAgICBxdWVzdGlvbjogYFdoaWNoIHBhcnRpY2xlIHR5cGUgY29uc2lzdHMgb2YgcXVhcmstYW50aXF1YXJrIHBhaXJzP2AsXG4gICAgICBvcHRpb25zOiBbYEJhcnlvbmAsIGBMZXB0b25gLCBgTWVzb25gXVxuICAgIH0sXG4gICAge1xuICAgICAgYW5zd2VyOiAnYSBhbnN3ZXItYnV0dG9uJyxcbiAgICAgIHF1ZXN0aW9uOiBgV2hlbiBpcyBzdHJhbmdlbmVzcyBub3QgY29uc2VydmVkP2AsXG4gICAgICBvcHRpb25zOiBbYHdlYWsgaW50ZXJhY3Rpb25gLCBgZWxlY3Ryb21hZ25ldGljIGZvcmNlYCwgYGdyYXZpdGF0aW9uYWwgZm9yY2VgXVxuICAgIH0sXG4gICAge1xuICAgICAgYW5zd2VyOiAnYiBhbnN3ZXItYnV0dG9uJyxcbiAgICAgIHF1ZXN0aW9uOiBgV2hpY2ggb2YgdGhlIGZvbGxvd2luZyBpcyBub3QgYSBMZXB0b24/YCxcbiAgICAgIG9wdGlvbnM6IFtgTXVvbmAsIGBOZXV0cm9uYCwgYFRhdWBdXG4gICAgfVxuICBdO1xuXG4gIGxldCBsZXZlbFRocmVlU2NvcmUgPSAwO1xuICBsZXQgYWN0dWFsQW5zd2VyID0gJyc7XG4gIGxldCByb3VuZCA9IDA7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vZW5kIG9mIGNvbnN0YW50cy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgZnVuY3Rpb24gbGV2ZWxPbmVQbGF5KCkge1xuICAgIC8vIFNob3cgb25seSB0aGUgZmlyc3QgZ2FtZS5cbiAgICAvL3Nob3cgb25seSBvbmUgcGFpciBvZiBhcnJheXMgYXQgYSB0aW1lXG4gICAgc2h1ZmZsZWROdW1iZXJzID0gc2h1ZmZsZUFycmF5KG51bWJlcnMpO1xuICAgIGNhcmRTbG90QXNzaWduKHNsb3RzKTtcbiAgICBjYXJkQXNzaWduKG51bWJlcnMpO1xuXG4gIH1cbiAgICAvL3N0YXJ0IGJ1dHRvbiB0byBjb2xsZWN0IHRpbWUgc3RhbXAgZm9yIHNjb3JlLlxuICAkc3RhcnRCdXR0b24uY2xpY2soKCkgPT4ge1xuICAgIGxldmVsT25lUGxheSgpO1xuICAgIGNvbnNvbGUubG9nKCd3ZWxjb21lIGNsaWNrZWQhJyk7XG4gICAgJHdlbGNvbWUuaGlkZSgxMCk7XG4gICAgJGZ1bGxTY3JlZW5CZy5oaWRlKDEwKTtcbiAgICAkbGV2ZWxPbmUuc2hvdyg1MCk7XG4gICAgbGV2ZWxPbmVTdGFydCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgY29uc29sZS5sb2cobGV2ZWxPbmVTdGFydCk7XG5cbiAgfSk7XG4gIC8vc2tpcCBidXR0b24gZm9yIGRldmVsb3BtZW50IHB1cnBvc2VzIG9ubHkuXG4gICRza2lwQnV0dG9uLmNsaWNrKCgpID0+IHtcbiAgICAkbGV2ZWxUd28uc2hvdygpO1xuICAgICRsZXZlbFR3by5hbmltYXRlKCB7XG4gICAgICBvcGFjaXR5OiAxXG4gICAgfSApO1xuICAgIGxldmVsVHdvUGxheSgpO1xuICB9KTtcblxuICAvLyBSZXNldCB0aGUgZ2FtZVxuICAkY2FyZFBpbGUuaHRtbCggJycgKTtcblxuICAvL3RvIHNodWZmbGUgdGhlIGNhcmRzIHNvIGl0IGlzIGRpZmZlcmVudCBlYWNoIHRpbWUgZm9yIHRoZSBwbGF5ZXIuXG4gIGZ1bmN0aW9uIHNodWZmbGVBcnJheShhcnJheSkge1xuICAgIC8vIGZpc2hlci15YXRlcyBzaHVmZmxlXG4gICAgY29uc3QgbmV3QXJyYXkgPSBhcnJheS5zbGljZSgwKTtcbiAgICBuZXdBcnJheS5zb3J0KCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpIC0gMC41O1xuICAgIH0pO1xuICAgIHJldHVybiBuZXdBcnJheTtcbiAgfVxuXG4gIC8vIENyZWF0ZSB0aGUgY2FyZCBzbG90c1xuICBmdW5jdGlvbiBjYXJkU2xvdEFzc2lnbihzbG90cykge1xuICAgIGZvciAoIGxldCBpPTA7IGk8c2xvdHMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAkKCc8ZGl2IC8+JywgeyB0ZXh0OiBzbG90c1tpXSwgJ2RhdGEtcG9zaXRpb24nOiBpICsgMSB9KS5hcHBlbmRUbygnI2NhcmRTbG90cycpXG4gICAgICAuZHJvcHBhYmxlKCB7XG4gICAgICAgIGFjY2VwdDogJyNjYXJkUGlsZSBkaXYnLFxuICAgICAgICBob3ZlckNsYXNzOiAnaG92ZXJlZCcsXG4gICAgICAgIGRyb3A6IGhhbmRsZUNhcmREcm9wXG4gICAgICB9ICk7XG4gICAgfVxuICB9XG5cbiAgLy8gQ3JlYXRlIHRoZSBwaWxlIG9mIHNodWZmbGVkIGNhcmRzXG4gIGZ1bmN0aW9uIGNhcmRBc3NpZ24obnVtYmVycyl7XG4gICAgZm9yICggbGV0IGk9MDsgaTxzaHVmZmxlZE51bWJlcnMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAkKCc8ZGl2IC8+JywgeyB0ZXh0OiBzaHVmZmxlZE51bWJlcnNbaV0sICdkYXRhLXBvc2l0aW9uJzogbnVtYmVycy5pbmRleE9mKHNodWZmbGVkTnVtYmVyc1tpXSkgKyAxIH0pLmF0dHIoICdpZCcsICdjYXJkJytpICkuYXBwZW5kVG8oICcjY2FyZFBpbGUnICkuZHJhZ2dhYmxlKCB7XG4gICAgICAgIGNvbnRhaW5tZW50OiAnI2xldmVsT25lJyxcbiAgICAgICAgc3RhY2s6ICcjY2FyZFBpbGUgZGl2JyxcbiAgICAgICAgY3Vyc29yOiAnbW92ZScsXG4gICAgICAgIHJldmVydDogdHJ1ZVxuICAgICAgfSApO1xuICAgIH1cbiAgfVxuICAvL2RyYWdnaW5nIHRoZSBjYXJkcyB0byB0aGUgcmlnaHQgc2xvdC5cbiAgZnVuY3Rpb24gaGFuZGxlQ2FyZERyb3AoIGV2ZW50LCB1aSApIHtcblxuICAgIHZhciBzbG90TnVtYmVyID0gJCh0aGlzKS5kYXRhKCdwb3NpdGlvbicpO1xuICAgIHZhciBjYXJkTnVtYmVyID0gdWkuZHJhZ2dhYmxlLmRhdGEoJ3Bvc2l0aW9uJyk7XG4gICAgY29uc29sZS5sb2coc2xvdE51bWJlciwgY2FyZE51bWJlcik7XG4gICAgLy8gSWYgdGhlIGNhcmQgd2FzIGRyb3BwZWQgdG8gdGhlIGNvcnJlY3Qgc2xvdCxjaGFuZ2UgdGhlIGNhcmQgY29sb3VyLCBwb3NpdGlvbiBpdCBkaXJlY3RseVxuICAgIC8vIG9uIHRvcCBvZiB0aGUgc2xvdCwgYW5kIHByZXZlbnQgaXQgYmVpbmcgZHJhZ2dlZCBhZ2FpblxuICAgIGlmICggc2xvdE51bWJlciA9PT0gY2FyZE51bWJlciApIHtcbiAgICAgIHVpLmRyYWdnYWJsZS5hZGRDbGFzcyggJ2NvcnJlY3QnICk7XG4gICAgICB1aS5kcmFnZ2FibGUuZHJhZ2dhYmxlKCAnZGlzYWJsZScgKTtcbiAgICAgICQodGhpcykuZHJvcHBhYmxlKCAnZGlzYWJsZScgKTtcbiAgICAgIHVpLmRyYWdnYWJsZS5wb3NpdGlvbiggeyBvZjogJCh0aGlzKSwgbXk6ICdsZWZ0IHRvcCcsIGF0OiAnbGVmdCB0b3AnIH0gKTtcbiAgICAgIHVpLmRyYWdnYWJsZS5kcmFnZ2FibGUoICdvcHRpb24nLCAncmV2ZXJ0JywgZmFsc2UgKTtcbiAgICAgIGNvcnJlY3RDYXJkcysrO1xuICAgICAgY29uc29sZS5sb2coY29ycmVjdENhcmRzKTtcbiAgICB9XG4gICAgLy8gSWYgYWxsIHRoZSBjYXJkcyBoYXZlIGJlZW4gcGxhY2VkIGNvcnJlY3RseSBtb3ZlIG9udG8gbmV4dCByb3VuZCwgdW5sZXNzIGZpbmFsIHJvdW5kLCBkaXNwbGF5IHN1Y2Nlc3MgbWVzc2FnZS5cbiAgICBpZiAoY29ycmVjdENhcmRzID09PSA4ICYmIHR1cm5OdW1iZXIgPT09IDEpe1xuICAgICAgc2xvdHMgPSBzbG90c1R3bztcbiAgICAgIG51bWJlcnMgPSBudW1iZXJzVHdvO1xuICAgICAgdHVybk51bWJlcisrO1xuICAgICAgJGNhcmRQaWxlLmh0bWwoICcnICk7XG4gICAgICAkY2FyZFNsb3RzLmh0bWwoICcnICk7XG4gICAgICBsZXZlbE9uZVBsYXkoKTtcbiAgICAgIC8vdG8gdGFrZSBwbGF5ZXIgb250byB0aGUgM3JkIHJvdW5kLlxuICAgIH0gZWxzZSBpZiAoY29ycmVjdENhcmRzID09PSAxNiAmJiB0dXJuTnVtYmVyID09PSAyKXtcbiAgICAgIHNsb3RzID0gc2xvdHNUaHJlZTtcbiAgICAgIG51bWJlcnMgPSBudW1iZXJzVGhyZWU7XG4gICAgICB0dXJuTnVtYmVyKys7XG4gICAgICAkY2FyZFBpbGUuaHRtbCggJycgKTtcbiAgICAgICRjYXJkU2xvdHMuaHRtbCggJycgKTtcbiAgICAgIGxldmVsT25lUGxheSgpO1xuICAgICAgLy90byBjb21wbGV0ZSBsZXZlbCAxXG4gICAgfSBlbHNlIGlmICggY29ycmVjdENhcmRzID09PSAyNCAmJiB0dXJuTnVtYmVyID09PSAzKSB7XG4gICAgICBsZXZlbE9uZUVuZCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICBsZXZlbE9uZVNjb3JlID0gTWF0aC5yb3VuZCgoMTAwIC0gKChsZXZlbE9uZUVuZCAtIGxldmVsT25lU3RhcnQpLzEwMDApKS8xMCk7XG4gICAgICBjb25zb2xlLmxvZyhsZXZlbE9uZVNjb3JlKTtcbiAgICAgICRsZXZlbFR3by5zaG93KCk7XG4gICAgICAkbGV2ZWxPbmUuaGlkZSgpO1xuICAgICAgY29uc29sZS5sb2coJ2xldmVsdHdvcmV2ZWFsZWQnKTtcbiAgICAgIGxldmVsVHdvU3RhcnQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgbGV2ZWxUd29QbGF5KCk7XG4gICAgfVxuICB9XG5cbiAgLy9FTkQgT0YgTEVWRUwgMS8vLy8vL1NUQVJUIE9GIExFVkVMIDIvLy8vL1xuICBmdW5jdGlvbiBsZXZlbFR3b1BsYXkoKSB7XG4gICAgY29uc29sZS5sb2coJ2xldmVsVHdvUGxheScpO1xuICAgIGNvbnNvbGUubG9nKCR1bmNsYXNzaWZpZWRQYXJ0aWNsZSk7XG4gICAgJHVuY2xhc3NpZmllZFBhcnRpY2xlLmRyYWdnYWJsZSh7XG4gICAgICBjb250YWlubWVudDogJ2xldmVsVHdvJyxcbiAgICAgIHJldmVydDogdHJ1ZVxuICAgIH0pO1xuXG4gICAgJG1lc29ucy5kcm9wcGFibGUoe1xuICAgICAgYWNjZXB0OiAnLm1lc29ucycsXG4gICAgICBkcm9wOiBsZXZlbFR3b0Ryb3BFdmVudFxuICAgIH0pO1xuXG4gICAgJGJhcnlvbnMuZHJvcHBhYmxlKHtcbiAgICAgIGFjY2VwdDogJy5iYXJ5b25zJyxcbiAgICAgIGRyb3A6IGxldmVsVHdvRHJvcEV2ZW50XG4gICAgfSk7XG4gICAgJGxlcHRvbi5kcm9wcGFibGUoe1xuICAgICAgYWNjZXB0OiAnLmxlcHRvbnMnLFxuICAgICAgZHJvcDogbGV2ZWxUd29Ecm9wRXZlbnRcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxldmVsVHdvRHJvcEV2ZW50KCBldmVudCwgdWkgKSB7XG4gICAgdmFyIHBhcnRpY2xlRGl2ID0gJCh0aGlzKS5kYXRhKCdwb3NpdGlvbicpO1xuICAgIHZhciBwYXJ0aWNsZUNsYXNzaWZpY2F0aW9uID0gdWkuZHJhZ2dhYmxlLmRhdGEoJ3Bvc2l0aW9uJyk7XG4gICAgaWYgKHBhcnRpY2xlRGl2ID09PSBwYXJ0aWNsZUNsYXNzaWZpY2F0aW9uKXtcbiAgICAgIHVpLmRyYWdnYWJsZS5kcmFnZ2FibGUoICdvcHRpb24nLCAncmV2ZXJ0JywgZmFsc2UgKTtcbiAgICAgIGNvcnJlY3RDbGFzc2lmaWNhdGlvbiArKztcblxuICAgICAgaWYgKCBjb3JyZWN0Q2xhc3NpZmljYXRpb24gPT09IDEwKSB7XG4gICAgICAgIGxldmVsVHdvRW5kID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgICAgbGV2ZWxUd29TY29yZSA9IE1hdGgucm91bmQoKDEwMCAtICgobGV2ZWxUd29FbmQgLSBsZXZlbFR3b1N0YXJ0KS8xMDAwKSkvMTApO1xuICAgICAgICBjb25zb2xlLmxvZyhsZXZlbFR3b1Njb3JlKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0xldmVsIFRocmVlJyk7XG4gICAgICAgIC8vUmV2ZWFsIGxldmVsIHRocmVlIGFuZCBoaWRlIGxldmVsIHR3by5cbiAgICAgICAgJGxldmVsVGhyZWUuc2hvdyg1MDApO1xuICAgICAgICAkbGV2ZWxUd28uaGlkZSgpO1xuXG4gICAgICAgIGxldmVsVGhyZWVQbGF5KCk7XG4gICAgICAgIGJ1dHRvbkNsaWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9sZXZlbCAzLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBmdW5jdGlvbiBsZXZlbFRocmVlUGxheSAoKXtcbiAgICBjb25zb2xlLmxvZygnc3RhcnQgb2YgbGV2ZWwgMycpO1xuICAgIC8vdG8gZ2VuZXJhdGUgdGhlIHF1ZXN0aW9uIGZvciBlYWNoIHJvdW5kXG4gICAgY29uc3QgY2hvc2VuUXVlc3Rpb24gPSBxdWVzdGlvbnNbcm91bmRdLnF1ZXN0aW9uO1xuICAgIGNvbnN0IGFuc3dlckEgPSBxdWVzdGlvbnNbcm91bmRdLm9wdGlvbnNbMF07XG4gICAgY29uc3QgYW5zd2VyQiA9IHF1ZXN0aW9uc1tyb3VuZF0ub3B0aW9uc1sxXTtcbiAgICBjb25zdCBhbnN3ZXJDID0gcXVlc3Rpb25zW3JvdW5kXS5vcHRpb25zWzJdO1xuICAgIGFjdHVhbEFuc3dlciA9IHF1ZXN0aW9uc1tyb3VuZF0uYW5zd2VyO1xuICAgIC8vdG8gcHJpbnQgdGhlIHF1ZXN0aW9ucyBhbmQgdGhlIGJ1dHRvbnNcbiAgICAkKCdkaXYucXVlc3Rpb25zJykuaHRtbChjaG9zZW5RdWVzdGlvbik7XG4gICAgJCgnYnV0dG9uLmEnKS5odG1sKGFuc3dlckEpO1xuICAgICQoJ2J1dHRvbi5iJykuaHRtbChhbnN3ZXJCKTtcbiAgICAkKCdidXR0b24uYycpLmh0bWwoYW5zd2VyQyk7XG4gIH1cblxuICBmdW5jdGlvbiBidXR0b25DbGljaygpe1xuICAgICQoJy5yb3VuZFRocmVlIGJ1dHRvbicpLmNsaWNrKChlKSA9PiB7XG4gICAgICBjb25zdCAkYnV0dG9uID0gJChlLnRhcmdldCk7XG4gICAgICBjb25zdCBhbnN3ZXIgPSAkYnV0dG9uLmF0dHIoJ2NsYXNzJyk7XG5cbiAgICAgIGlmIChhbnN3ZXIgPT09IGFjdHVhbEFuc3dlcil7XG4gICAgICAgIGxldmVsVGhyZWVTY29yZSsrO1xuICAgICAgfVxuICAgICAgaWYocm91bmQgPD0gMykge1xuICAgICAgICByb3VuZCsrO1xuICAgICAgICBsZXZlbFRocmVlUGxheSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdHMnKTtcblxuICAgICAgICAvL2Fzc2lnbmluZyBjb2xvdXJzIHRvIGRpdnMgZm9yIHRoZSByZXN1bHRzXG5cbiAgICAgICAgJCggJ2Rpdi5mZWVkYmFja09uZSBwJyApLmh0bWwobGV2ZWxPbmVTY29yZSk7XG4gICAgICAgIGxldCBsZXZlbE9uZUNsYXNzID0gJ2F2ZXJhZ2UnO1xuICAgICAgICBpZiAobGV2ZWxPbmVTY29yZSA+IDQpIGxldmVsT25lQ2xhc3MgPSAnZ29vZCc7XG4gICAgICAgIGlmKGxldmVsT25lU2NvcmUgPCAzKSBsZXZlbE9uZUNsYXNzID0gJ2JhZCc7XG4gICAgICAgICQoJy5mZWVkYmFja09uZScpLmFkZENsYXNzKGxldmVsT25lQ2xhc3MpO1xuXG4gICAgICAgICQoICdkaXYuZmVlZGJhY2tUd28gcCcgKS5odG1sKGxldmVsVHdvU2NvcmUpO1xuICAgICAgICBsZXQgbGV2ZWxUd29DbGFzcyA9ICdhdmVyYWdlJztcbiAgICAgICAgaWYgKGxldmVsVHdvU2NvcmUgPiA2KSBsZXZlbFR3b0NsYXNzID0gJ2dvb2QnO1xuICAgICAgICBpZihsZXZlbFR3b1Njb3JlIDwgNSkgbGV2ZWxUd29DbGFzcyA9ICdiYWQnO1xuICAgICAgICAkKCcuZmVlZGJhY2tUd28nKS5hZGRDbGFzcyhsZXZlbFR3b0NsYXNzKTtcblxuICAgICAgICAkKCAnZGl2LmZlZWRiYWNrVGhyZWUgcCcgKS5odG1sKGxldmVsVGhyZWVTY29yZSk7XG4gICAgICAgIGxldCBsZXZlbFRocmVlQ2xhc3MgPSAnYXZlcmFnZSc7XG4gICAgICAgIGlmIChsZXZlbFRocmVlU2NvcmUgPiA0KSBsZXZlbFRocmVlQ2xhc3MgPSAnZ29vZCc7XG4gICAgICAgIGlmKGxldmVsVGhyZWVTY29yZSA8IDMpIGxldmVsVGhyZWVDbGFzcyA9ICdiYWQnO1xuICAgICAgICAkKCcuZmVlZGJhY2tUaHJlZScpLmFkZENsYXNzKGxldmVsVGhyZWVDbGFzcyk7XG5cbiAgICAgICAgJGxldmVsVGhyZWUuaGlkZSgpO1xuICAgICAgICAkKCcjc3R1ZGVudEZlZWRiYWNrJykuc2hvdygpO1xuXG4gICAgICAgIGNvbnN0IHRvdGFsU2NvcmUgPSBsZXZlbE9uZVNjb3JlICsgbGV2ZWxUaHJlZVNjb3JlICsgbGV2ZWxUd29TY29yZTtcblxuICAgICAgICBpZiAodG90YWxTY29yZSA+IDEzKSB7XG4gICAgICAgICAgJCgnI3N1cGVyc3RhcicpLnNob3coKTtcbiAgICAgICAgfSBlbHNlIGlmIChsZXZlbE9uZVNjb3JlIDwgKGxldmVsVHdvU2NvcmUgJiYgbGV2ZWxUaHJlZVNjb3JlKSl7XG4gICAgICAgICAgJCgnI2ltcHJvdmVTeW1ib2xzJykuc2hvdygpO1xuICAgICAgICB9IGVsc2UgaWYgKGxldmVsVHdvU2NvcmUgPCAobGV2ZWxPbmVTY29yZSAmJiBsZXZlbFRocmVlU2NvcmUpKXtcbiAgICAgICAgICAkKCcjaW1wcm92ZUNsYXNzaWZpY2F0aW9uJykuc2hvdygpO1xuICAgICAgICB9IGVsc2UgaWYgKGxldmVsVGhyZWVTY29yZSA8IChsZXZlbFR3b1Njb3JlICYmIGxldmVsT25lU2NvcmUpKXtcbiAgICAgICAgICAkKCcjYmFzaWNDb25jZXB0cycpLnNob3coKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiJdfQ==
