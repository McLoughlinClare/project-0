"use strict";function init(){$("#levelTwo").hide(),$("#levelThree").hide(),$("#chart-container").hide(),shuffledNumbers=shuffleArray(numbers),console.log(slots),console.log(numbers),cardSlotAssign(slots),cardAssign(numbers),$(".start-button").click(function(){console.log("welcome clicked!"),$("#welcome").hide(),levelOneStart=(new Date).getTime(),console.log(levelOneStart)}),$(".skip-button").click(function(){$("#levelTwo").show(),$("#levelTwo").animate({opacity:1}),levelTwoPlay()})}function shuffleArray(e){var o=e.slice(0);return o.sort(function(){return Math.random()-.5}),o}function cardSlotAssign(){for(var e=0;e<slots.length;e++)$("<div />",{text:slots[e],"data-position":e+1}).appendTo("#cardSlots").droppable({accept:"#cardPile div",hoverClass:"hovered",drop:handleCardDrop})}function cardAssign(){for(var e=0;e<shuffledNumbers.length;e++)$("<div />",{text:shuffledNumbers[e],"data-position":numbers.indexOf(shuffledNumbers[e])+1}).attr("id","card"+e).appendTo("#cardPile").draggable({containment:"#content",stack:"#cardPile div",cursor:"move",revert:!0})}function handleCardDrop(e,o){var t=$(this).data("position"),n=o.draggable.data("position");console.log(t,n),t===n&&(o.draggable.addClass("correct"),o.draggable.draggable("disable"),$(this).droppable("disable"),o.draggable.position({of:$(this),my:"left top",at:"left top"}),o.draggable.draggable("option","revert",!1),correctCards++),8===correctCards&&1===turnNumber?(slots=slotsTwo,numbers=numbersTwo,turnNumber++,$("#cardPile").html(""),$("#cardSlots").html(""),init()):16===correctCards&&2===turnNumber?(slots=slotsThree,numbers=numbersThree,turnNumber++,$("#cardPile").html(""),$("#cardSlots").html(""),init()):24===correctCards&&3===turnNumber&&(console.log("COMPLETED!"),levelOneEnd=(new Date).getTime(),console.log(levelOneEnd),levelOneScore=Math.round((100-(levelOneEnd-levelOneStart)/1e3)/10),console.log(levelOneScore),$("#levelTwo").show(),$("#levelTwo").animate({opacity:1}),levelTwoPlay())}function levelTwoPlay(){console.log("levelTwoPlay"),console.log($(".unclassifiedParticle")),$(".unclassifiedParticle").draggable({containment:"levelTwo",revert:!0}),$("#mesons").droppable({accept:".mesons",drop:levelTwoDropEvent}),$("#baryons").droppable({accept:".baryons",drop:levelTwoDropEvent}),$("#lepton").droppable({accept:".leptons",drop:levelTwoDropEvent})}function levelTwoDropEvent(e,o){$(this).data("position")===o.draggable.data("position")&&(o.draggable.addClass("correct"),o.draggable.draggable("option","revert",!1),correctClassification++,console.log(correctClassification),10===correctClassification&&(console.log("Level Three"),$("#levelThree").show(),$("#levelThree").animate({opacity:1}),levelThreePlay(),buttonClick()))}function levelThreePlay(){console.log("start of level 3");var e=questions[round].question,o=questions[round].options[0],t=questions[round].options[1],n=questions[round].options[2];actualAnswer=questions[round].answer,$("div.questions").html(e),$("button.a").html(o),$("button.b").html(t),$("button.c").html(n),console.log("answer = "+actualAnswer)}function buttonClick(){$(".roundThree button").click(function(e){$(e.target).attr("class")===actualAnswer&&(console.log("correct"),correctQuestion++,console.log("correctQuestion="+correctQuestion)),round<=3?(round++,levelThreePlay()):(console.log("results"),$("#chart-container").show(),$("#chart-container").animate({opacity:1}))})}console.log("JS loaded");var correctCards=0,turnNumber=1,numbersTwo=["Proton","Neutron","Positron","π+","π-","K+","K-","π⁰"],numbersThree=["Gravitational","Gravitational1","weak","weak1","EM","EM1","Strong","Strong1"],numbersOne=["Proton","Neutron","Electron","Positron","Pion+","Kaon+","kaon-","Pion"],slotsTwo=["uud","udd","‾u","u-d","-ud","-ud","-du","u-u"],slotsThree=["affects all particles with mass","infinite range","affects all particles","responsable for beta decay","affects all particles with charge","infinite range","affects hadrons","very short range"],slotsOne=["p","n","e","p-","π+","K+","K-","π⁰"],shuffledNumbers=[],slots=slotsOne,numbers=numbersOne,correctClassification=0,levelOneStart="",levelOneEnd="",levelOneScore="";$(init),correctCards=0,$("#cardPile").html("");var questions=[{answer:"a",question:"Which of the fundamental forces do Lepton's not experience?",options:["Strong Nuclear Force","Weak Interaction","Electromagnetic force"]},{answer:"c",question:"What is the charm quark's anti quark?",options:["Up","Top","Strange"]},{answer:"c",question:"Which particle type consists of quark-antiquark pairs?",options:["Baryon","Lepton","Meson"]},{answer:"a",question:"When is strangeness not conserved?",options:["weak interaction","electromagnetic force","gravitational force"]},{answer:"b",question:"Which of the following is not a Lepton?",options:["Muon","Neutron","Tau"]}],answer="",correctQuestion=0,actualAnswer="",round=0;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJpbml0IiwiJCIsImhpZGUiLCJjb25zb2xlIiwic2h1ZmZsZUFycmF5IiwibnVtYmVycyIsImxvZyIsImNhcmRTbG90QXNzaWduIiwiY2FyZEFzc2lnbiIsImNsaWNrIiwibGV2ZWxPbmVTdGFydCIsImdldFRpbWUiLCJhbmltYXRlIiwic2hvdyIsIm9wYWNpdHkiLCJsZXZlbFR3b1BsYXkiLCJuZXdBcnJheSIsImFycmF5IiwicmFuZG9tIiwic2xpY2UiLCJzb3J0IiwiYWNjZXB0IiwiaSIsInNsb3RzIiwibGVuZ3RoIiwiaG92ZXJDbGFzcyIsInRleHQiLCJkYXRhLXBvc2l0aW9uIiwiYXBwZW5kVG8iLCJkcm9wIiwiaGFuZGxlQ2FyZERyb3AiLCJzdGFjayIsInNodWZmbGVkTnVtYmVycyIsImN1cnNvciIsImluZGV4T2YiLCJhdHRyIiwiZHJhZ2dhYmxlIiwicmV2ZXJ0IiwiY2FyZE51bWJlciIsImRhdGEiLCJzbG90TnVtYmVyIiwidGhpcyIsInVpIiwicG9zaXRpb24iLCJjb3JyZWN0Q2FyZHMiLCJvZiIsIm15IiwiYXQiLCJ0dXJuTnVtYmVyIiwic2xvdHNUd28iLCJudW1iZXJzVHdvIiwiaHRtbCIsInNsb3RzVGhyZWUiLCJudW1iZXJzVGhyZWUiLCJsZXZlbE9uZVNjb3JlIiwibGV2ZWxPbmVFbmQiLCJjb250YWlubWVudCIsImRyb3BwYWJsZSIsImxldmVsVHdvRHJvcEV2ZW50IiwicGFydGljbGVEaXYiLCJwYXJ0aWNsZUNsYXNzaWZpY2F0aW9uIiwiYWRkQ2xhc3MiLCJjb3JyZWN0Q2xhc3NpZmljYXRpb24iLCJidXR0b25DbGljayIsImxldmVsVGhyZWVQbGF5IiwiY2hvc2VuUXVlc3Rpb24iLCJhbnN3ZXJDIiwicm91bmQiLCJxdWVzdGlvbiIsInF1ZXN0aW9ucyIsImFjdHVhbEFuc3dlciIsImFuc3dlckIiLCJvcHRpb25zIiwiYW5zd2VyIiwiYW5zd2VyQSIsIiRidXR0b24iLCJjb3JyZWN0UXVlc3Rp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QSxLQUFBLEtBQUEsS0FBQSxNQUdNSyxjQUFlLGdCQUFpQixpQkFBa0IsT0FBUSxRQUFTLEtBQU0sTUFBTyxTQUFVLFdBRDFGSCxZQUFjLFNBQVUsVUFBVyxXQUFZLFdBQVUsUUFBVyxRQUF2RCxRQUFpRSxRQUU5RTJCLFVBQWEsTUFBQyxNQUFVLEtBQVcsTUFBQSxNQUFZLE1BQUEsTUFBWSxPQUczRHpCLFlBQWMsa0NBQW1DLGlCQUFrQix3QkFBeUIsNkJBQThCLG9DQUFxQyxpQkFBa0Isa0JBQW1CLG9CQURwTUgsVUFBVyxJQUFPLElBQUEsSUFBTSxLQUFBLEtBQWlCLEtBQS9CLEtBQXFDLE1BRS9DNkIsbUJBR0Z2RCxNQUFPdUQsU0FEUDlDLFFBQUFBLFdBRUEzQixzQkFBSixFQUdJSyxjQUFnQixHQUFoQkEsWUFBQUEsR0FHQTRDLGNBQWdCLEVBR3BCckQsR0FBR0QsTUFxQ0g0QyxhQUFlLEVBR2YzQyxFQUFBLGFBQUFrRCxLQUFBLEdBb0lJcUIsSUFBQUEsYUFHQUMsT0FBUSxJQUNSTCxTQUFBQSw4REFDQUksU0FBUyx1QkFBQSxtQkFBQSwyQkFJVEosT0FBQUEsSUFDQUksU0FBQUEsd0NBRUZBLFNBQUEsS0FBQSxNQUFBLGFBR0VBLE9BQVMsSUFFWEosU0FBQUEseURBQ0VLLFNBREYsU0FBQSxTQUFBLFdBckJGQSxPQUFBLElBMkJJQSxTQUFBQSxxQ0FDQUcsU0FBQUEsbUJBQUFBLHdCQUFBQSx5QkFHSkgsT0FBU1QsSUFDUDdELFNBQUFBLDBDQUNBcUUsU0FBQSxPQUFBLFVBQUEsU0FHQUMsT0FBTUMsR0FDTkUsZ0JBQWdCUCxFQUNoQkMsYUFBZ0JELEdBQ2hCQyxNQUFBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zb2xlLmxvZygnSlMgbG9hZGVkJyk7XG5cbmxldCBjb3JyZWN0Q2FyZHMgPSAwO1xubGV0IHR1cm5OdW1iZXIgPSAxO1xuXG5jb25zdCBudW1iZXJzVHdvID0gWydQcm90b24nLCAnTmV1dHJvbicsICdQb3NpdHJvbicsICdcXHUwM0MwKycsJ1xcdTAzQzAtJywgJ0srJywnSy0nLCdcXHUwM0MwXFx1MjA3MCddO1xuY29uc3QgbnVtYmVyc1RocmVlID1bJ0dyYXZpdGF0aW9uYWwnLCAnR3Jhdml0YXRpb25hbDEnLCAnd2VhaycsICd3ZWFrMScsICdFTScsICdFTTEnLCAnU3Ryb25nJywgJ1N0cm9uZzEnXTtcbmNvbnN0IG51bWJlcnNPbmUgPSBbJ1Byb3RvbicsICdOZXV0cm9uJywgJ0VsZWN0cm9uJywgJ1Bvc2l0cm9uJywgJ1Bpb24rJywgJ0thb24rJywgJ2thb24tJywgJ1Bpb24nXTtcblxuY29uc3Qgc2xvdHNUd289IFsndXVkJywgJ3VkZCcsJ1xcdTIwM0V1JywndS1kJywgJy11ZCcsJy11ZCcsICctZHUnLCAndS11J107XG5jb25zdCBzbG90c1RocmVlID0gWydhZmZlY3RzIGFsbCBwYXJ0aWNsZXMgd2l0aCBtYXNzJywgJ2luZmluaXRlIHJhbmdlJywgJ2FmZmVjdHMgYWxsIHBhcnRpY2xlcycsICdyZXNwb25zYWJsZSBmb3IgYmV0YSBkZWNheScsICdhZmZlY3RzIGFsbCBwYXJ0aWNsZXMgd2l0aCBjaGFyZ2UnLCAnaW5maW5pdGUgcmFuZ2UnLCAnYWZmZWN0cyBoYWRyb25zJywgJ3Zlcnkgc2hvcnQgcmFuZ2UnXTtcbmNvbnN0IHNsb3RzT25lID0gWydwJywgJ24nLCdlJywgJ3AtJywnXFx1MDNDMCsnLCAnSysnLCdLLScsJ1xcdTAzQzBcXHUyMDcwJ107XG5cbmxldCBzaHVmZmxlZE51bWJlcnM9IFtdO1xubGV0IHNsb3RzID1zbG90c09uZTtcbmxldCBudW1iZXJzID0gbnVtYmVyc09uZTtcblxubGV0IGNvcnJlY3RDbGFzc2lmaWNhdGlvbiA9IDA7XG5sZXQgbGV2ZWxPbmVTdGFydCA9ICcnO1xuXG5sZXQgbGV2ZWxPbmVFbmQgPSAnJztcbmxldCBsZXZlbE9uZVNjb3JlID0gJyc7XG5cbi8vcnVuIGZ1bmN0aW9uIGZvciB0aGUgZmlyc3QgdGltZSBmb3IgdHVybiAxLlxuJCggaW5pdCApO1xuXG5cblxuXG5mdW5jdGlvbiBpbml0KCkge1xuICAvLyBTaG93IG9ubHkgdGhlIGZpcnN0IGdhbWUuXG4gICQoJyNsZXZlbFR3bycpLmhpZGUoKTtcbiAgJCgnI2xldmVsVGhyZWUnKS5oaWRlKCk7XG4gICQoJyNjaGFydC1jb250YWluZXInKS5oaWRlKCk7XG5cbiAgLy9zaG93IG9ubHkgb25lIHBhaXIgb2YgYXJyYXlzIGF0IGEgdGltZVxuICBzaHVmZmxlZE51bWJlcnMgPSBzaHVmZmxlQXJyYXkobnVtYmVycyk7XG4gIGNvbnNvbGUubG9nKHNsb3RzKTtcbiAgY29uc29sZS5sb2cobnVtYmVycyk7XG4gIGNhcmRTbG90QXNzaWduKHNsb3RzKTtcbiAgY2FyZEFzc2lnbihudW1iZXJzKTtcbi8vc3RhcnQgYnV0dG9uIHRvIGNvbGxlY3QgdGltZSBzdGFtcC5cbiAgJCgnLnN0YXJ0LWJ1dHRvbicpLmNsaWNrKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnd2VsY29tZSBjbGlja2VkIScpO1xuICAgICQoJyN3ZWxjb21lJykuaGlkZSgpO1xuICAgIGxldmVsT25lU3RhcnQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgIGNvbnNvbGUubG9nKGxldmVsT25lU3RhcnQpO1xuXG4gIH0pO1xuICAvL3NraXAgYnV0dG9uIGZvciBkZXZlbG9wbWVudCBwdXJwb3NlcyBvbmx5LlxuICAkKCcuc2tpcC1idXR0b24nKS5jbGljaygoKSA9PiB7XG4gICAgJCgnI2xldmVsVHdvJykuc2hvdygpO1xuICAgICQoJyNsZXZlbFR3bycpLmFuaW1hdGUoIHtcblxuICAgICAgb3BhY2l0eTogMVxuICAgIH0gKTtcbiAgICBsZXZlbFR3b1BsYXkoKTtcbiAgfSk7XG59XG5cbi8vIFJlc2V0IHRoZSBnYW1lXG5jb3JyZWN0Q2FyZHMgPSAwO1xuJCgnI2NhcmRQaWxlJykuaHRtbCggJycgKTtcblxuLy90byBzaHVmZmxlIHRoZSBjYXJkcyBzbyBpdCBpcyBkaWZmZXJlbnQgZWFjaCB0aW1lIGZvciB0aGUgcGxheWVyLlxuZnVuY3Rpb24gc2h1ZmZsZUFycmF5KGFycmF5KSB7XG4gIC8vIGZpc2hlci15YXRlcyBzaHVmZmxlXG4gIGNvbnN0IG5ld0FycmF5ID0gYXJyYXkuc2xpY2UoMCk7XG4gIG5ld0FycmF5LnNvcnQoIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpIC0gMC41O1xuICB9KTtcbiAgcmV0dXJuIG5ld0FycmF5O1xufVxuXG4vLyBDcmVhdGUgdGhlIGNhcmQgc2xvdHNcbmZ1bmN0aW9uIGNhcmRTbG90QXNzaWduKCkge1xuICBmb3IgKCBsZXQgaT0wOyBpPHNsb3RzLmxlbmd0aDsgaSsrICkge1xuICAgICQoJzxkaXYgLz4nLCB7IHRleHQ6IHNsb3RzW2ldLCAnZGF0YS1wb3NpdGlvbic6IGkgKyAxIH0pLmFwcGVuZFRvKCcjY2FyZFNsb3RzJylcbiAgICAuZHJvcHBhYmxlKCB7XG4gICAgICBhY2NlcHQ6ICcjY2FyZFBpbGUgZGl2JyxcbiAgICAgIGhvdmVyQ2xhc3M6ICdob3ZlcmVkJyxcbiAgICAgIGRyb3A6IGhhbmRsZUNhcmREcm9wXG4gICAgfSApO1xuICB9XG59XG5cbi8vIENyZWF0ZSB0aGUgcGlsZSBvZiBzaHVmZmxlZCBjYXJkc1xuZnVuY3Rpb24gY2FyZEFzc2lnbigpe1xuXG4gIGZvciAoIGxldCBpPTA7IGk8c2h1ZmZsZWROdW1iZXJzLmxlbmd0aDsgaSsrICkge1xuICAgICQoJzxkaXYgLz4nLCB7IHRleHQ6IHNodWZmbGVkTnVtYmVyc1tpXSwgJ2RhdGEtcG9zaXRpb24nOiBudW1iZXJzLmluZGV4T2Yoc2h1ZmZsZWROdW1iZXJzW2ldKSArIDEgfSkuYXR0ciggJ2lkJywgJ2NhcmQnK2kgKS5hcHBlbmRUbyggJyNjYXJkUGlsZScgKS5kcmFnZ2FibGUoIHtcbiAgICAgIGNvbnRhaW5tZW50OiAnI2NvbnRlbnQnLFxuICAgICAgc3RhY2s6ICcjY2FyZFBpbGUgZGl2JyxcbiAgICAgIGN1cnNvcjogJ21vdmUnLFxuICAgICAgcmV2ZXJ0OiB0cnVlXG4gICAgfSApO1xuICB9XG59XG4vL2RyYWdnaW5nIHRoZSBjYXJkcyB0byB0aGUgcmlnaHQgc2xvdC5cbmZ1bmN0aW9uIGhhbmRsZUNhcmREcm9wKCBldmVudCwgdWkgKSB7XG5cbiAgdmFyIHNsb3ROdW1iZXIgPSAkKHRoaXMpLmRhdGEoJ3Bvc2l0aW9uJyk7XG4gIHZhciBjYXJkTnVtYmVyID0gdWkuZHJhZ2dhYmxlLmRhdGEoJ3Bvc2l0aW9uJyk7XG4gIGNvbnNvbGUubG9nKHNsb3ROdW1iZXIsIGNhcmROdW1iZXIpO1xuICAvLyBJZiB0aGUgY2FyZCB3YXMgZHJvcHBlZCB0byB0aGUgY29ycmVjdCBzbG90LGNoYW5nZSB0aGUgY2FyZCBjb2xvdXIsIHBvc2l0aW9uIGl0IGRpcmVjdGx5XG4gIC8vIG9uIHRvcCBvZiB0aGUgc2xvdCwgYW5kIHByZXZlbnQgaXQgYmVpbmcgZHJhZ2dlZCBhZ2FpblxuICBpZiAoIHNsb3ROdW1iZXIgPT09IGNhcmROdW1iZXIgKSB7XG4gICAgdWkuZHJhZ2dhYmxlLmFkZENsYXNzKCAnY29ycmVjdCcgKTtcbiAgICB1aS5kcmFnZ2FibGUuZHJhZ2dhYmxlKCAnZGlzYWJsZScgKTtcbiAgICAkKHRoaXMpLmRyb3BwYWJsZSggJ2Rpc2FibGUnICk7XG4gICAgdWkuZHJhZ2dhYmxlLnBvc2l0aW9uKCB7IG9mOiAkKHRoaXMpLCBteTogJ2xlZnQgdG9wJywgYXQ6ICdsZWZ0IHRvcCcgfSApO1xuICAgIHVpLmRyYWdnYWJsZS5kcmFnZ2FibGUoICdvcHRpb24nLCAncmV2ZXJ0JywgZmFsc2UgKTtcbiAgICBjb3JyZWN0Q2FyZHMrKztcbiAgfVxuICAvLyBJZiBhbGwgdGhlIGNhcmRzIGhhdmUgYmVlbiBwbGFjZWQgY29ycmVjdGx5IG1vdmUgb250byBuZXh0IHJvdW5kLCB1bmxlc3MgZmluYWwgcm91bmQsIGRpc3BsYXkgc3VjY2VzcyBtZXNzYWdlLlxuICAvL3RvIHRha2UgcGxheWVyIHRvIDJuZCByb3VuZFxuICBpZiAoY29ycmVjdENhcmRzID09PSA4ICYmIHR1cm5OdW1iZXIgPT09IDEpe1xuICAgIHNsb3RzID0gc2xvdHNUd287XG4gICAgbnVtYmVycyA9IG51bWJlcnNUd287XG4gICAgdHVybk51bWJlcisrO1xuICAgICQoJyNjYXJkUGlsZScpLmh0bWwoICcnICk7XG4gICAgJCgnI2NhcmRTbG90cycpLmh0bWwoICcnICk7XG4gICAgaW5pdCgpO1xuICAgIC8vdG8gdGFrZSBwbGF5ZXIgb250byB0aGUgM3JkIHJvdW5kLlxuICB9IGVsc2UgaWYgKGNvcnJlY3RDYXJkcyA9PT0gMTYgJiYgdHVybk51bWJlciA9PT0gMil7XG4gICAgc2xvdHMgPSBzbG90c1RocmVlO1xuICAgIG51bWJlcnMgPSBudW1iZXJzVGhyZWU7XG4gICAgdHVybk51bWJlcisrO1xuICAgICQoJyNjYXJkUGlsZScpLmh0bWwoICcnICk7XG4gICAgJCgnI2NhcmRTbG90cycpLmh0bWwoICcnICk7XG4gICAgaW5pdCgpO1xuICAgIC8vdG8gY29tcGxldGUgbGV2ZWwgMVxuICB9IGVsc2UgaWYgKCBjb3JyZWN0Q2FyZHMgPT09IDI0ICYmIHR1cm5OdW1iZXIgPT09IDMpIHtcbiAgICBjb25zb2xlLmxvZygnQ09NUExFVEVEIScpO1xuICAgIGxldmVsT25lRW5kID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICBjb25zb2xlLmxvZyhsZXZlbE9uZUVuZCk7XG4gICAgbGV2ZWxPbmVTY29yZSA9IE1hdGgucm91bmQoKDEwMCAtICgobGV2ZWxPbmVFbmQgLSBsZXZlbE9uZVN0YXJ0KS8xMDAwKSkvMTApO1xuICAgIGNvbnNvbGUubG9nKGxldmVsT25lU2NvcmUpO1xuICAgICQoJyNsZXZlbFR3bycpLnNob3coKTtcbiAgICAkKCcjbGV2ZWxUd28nKS5hbmltYXRlKCB7XG4gICAgICBvcGFjaXR5OiAxXG4gICAgfSApO1xuICAgIGxldmVsVHdvUGxheSgpO1xuICB9XG59XG4vL0VORCBPRiBMRVZFTCAxLy8vLy8vU1RBUlQgT0YgTEVWRUwgMi8vLy8vXG5mdW5jdGlvbiBsZXZlbFR3b1BsYXkoKSB7XG4gIGNvbnNvbGUubG9nKCdsZXZlbFR3b1BsYXknKTtcbiAgY29uc29sZS5sb2coJCgnLnVuY2xhc3NpZmllZFBhcnRpY2xlJykpO1xuICAkKCcudW5jbGFzc2lmaWVkUGFydGljbGUnKS5kcmFnZ2FibGUoe1xuICAgIGNvbnRhaW5tZW50OiAnbGV2ZWxUd28nLFxuICAgIHJldmVydDogdHJ1ZVxuXG4gIH0pO1xuXG4gICQoJyNtZXNvbnMnKS5kcm9wcGFibGUoe1xuICAgIGFjY2VwdDogJy5tZXNvbnMnLFxuICAgIGRyb3A6IGxldmVsVHdvRHJvcEV2ZW50XG5cbiAgfSk7XG4gICQoJyNiYXJ5b25zJykuZHJvcHBhYmxlKHtcbiAgICBhY2NlcHQ6ICcuYmFyeW9ucycsXG4gICAgZHJvcDogbGV2ZWxUd29Ecm9wRXZlbnRcbiAgfSk7XG4gICQoJyNsZXB0b24nKS5kcm9wcGFibGUoe1xuICAgIGFjY2VwdDogJy5sZXB0b25zJyxcbiAgICBkcm9wOiBsZXZlbFR3b0Ryb3BFdmVudFxuICB9KTtcbn1cblxuZnVuY3Rpb24gbGV2ZWxUd29Ecm9wRXZlbnQoIGV2ZW50LCB1aSApIHtcbiAgdmFyIHBhcnRpY2xlRGl2ID0gJCh0aGlzKS5kYXRhKCdwb3NpdGlvbicpO1xuICB2YXIgcGFydGljbGVDbGFzc2lmaWNhdGlvbiA9IHVpLmRyYWdnYWJsZS5kYXRhKCdwb3NpdGlvbicpO1xuICBpZiAocGFydGljbGVEaXYgPT09IHBhcnRpY2xlQ2xhc3NpZmljYXRpb24pe1xuICAgIHVpLmRyYWdnYWJsZS5hZGRDbGFzcyggJ2NvcnJlY3QnICk7XG4gICAgdWkuZHJhZ2dhYmxlLmRyYWdnYWJsZSggJ29wdGlvbicsICdyZXZlcnQnLCBmYWxzZSApO1xuICAgIGNvcnJlY3RDbGFzc2lmaWNhdGlvbiArKztcbiAgICBjb25zb2xlLmxvZyhjb3JyZWN0Q2xhc3NpZmljYXRpb24pO1xuXG4gICAgaWYgKCBjb3JyZWN0Q2xhc3NpZmljYXRpb24gPT09IDEwKSB7XG4gICAgICBjb25zb2xlLmxvZygnTGV2ZWwgVGhyZWUnKTtcbiAgICAgICQoJyNsZXZlbFRocmVlJykuc2hvdygpO1xuICAgICAgJCgnI2xldmVsVGhyZWUnKS5hbmltYXRlKCB7XG5cbiAgICAgICAgb3BhY2l0eTogMVxuICAgICAgfSApO1xuICAgICAgbGV2ZWxUaHJlZVBsYXkoKTtcbiAgICAgIGJ1dHRvbkNsaWNrKCk7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IHF1ZXN0aW9ucyA9W1xuICB7XG4gICAgYW5zd2VyOiAnYScsXG4gICAgcXVlc3Rpb246IGBXaGljaCBvZiB0aGUgZnVuZGFtZW50YWwgZm9yY2VzIGRvIExlcHRvbidzIG5vdCBleHBlcmllbmNlP2AsXG4gICAgb3B0aW9uczogW2BTdHJvbmcgTnVjbGVhciBGb3JjZWAsIGBXZWFrIEludGVyYWN0aW9uYCwgYEVsZWN0cm9tYWduZXRpYyBmb3JjZWBdXG4gIH0sXG4gIHtcbiAgICBhbnN3ZXI6ICdjJyxcbiAgICBxdWVzdGlvbjogYFdoYXQgaXMgdGhlIGNoYXJtIHF1YXJrJ3MgYW50aSBxdWFyaz9gLFxuICAgIG9wdGlvbnM6IFtgVXBgLCBgVG9wYCwgYFN0cmFuZ2VgXVxuICB9LFxuICB7XG4gICAgYW5zd2VyOiAnYycsXG4gICAgcXVlc3Rpb246IGBXaGljaCBwYXJ0aWNsZSB0eXBlIGNvbnNpc3RzIG9mIHF1YXJrLWFudGlxdWFyayBwYWlycz9gLFxuICAgIG9wdGlvbnM6IFtgQmFyeW9uYCwgYExlcHRvbmAsIGBNZXNvbmBdXG4gIH0sXG4gIHtcbiAgICBhbnN3ZXI6ICdhJyxcbiAgICBxdWVzdGlvbjogYFdoZW4gaXMgc3RyYW5nZW5lc3Mgbm90IGNvbnNlcnZlZD9gLFxuICAgIG9wdGlvbnM6IFtgd2VhayBpbnRlcmFjdGlvbmAsIGBlbGVjdHJvbWFnbmV0aWMgZm9yY2VgLCBgZ3Jhdml0YXRpb25hbCBmb3JjZWBdXG4gIH0sXG4gIHtcbiAgICBhbnN3ZXI6ICdiJyxcbiAgICBxdWVzdGlvbjogYFdoaWNoIG9mIHRoZSBmb2xsb3dpbmcgaXMgbm90IGEgTGVwdG9uP2AsXG4gICAgb3B0aW9uczogW2BNdW9uYCwgYE5ldXRyb25gLCBgVGF1YF1cbiAgfVxuXTtcbmxldCBhbnN3ZXIgPSAnJztcbmxldCBjb3JyZWN0UXVlc3Rpb24gPSAwO1xubGV0IGFjdHVhbEFuc3dlciA9ICcnO1xubGV0IHJvdW5kID0gMDtcbmZ1bmN0aW9uIGxldmVsVGhyZWVQbGF5ICgpe1xuICBjb25zb2xlLmxvZygnc3RhcnQgb2YgbGV2ZWwgMycpO1xuICAvLyBmb3IgKGxldCBpID0gMDsgaTxxdWVzdGlvbnMubGVuZ3RoOyBpKyspe1xuICAvL3RvIGdlbmVyYXRlIHRoZSBxdWVzdGlvbiBmb3IgZWFjaCByb3VuZFxuICBjb25zdCBjaG9zZW5RdWVzdGlvbiA9IHF1ZXN0aW9uc1tyb3VuZF0ucXVlc3Rpb247XG4gIGNvbnN0IGFuc3dlckEgPSBxdWVzdGlvbnNbcm91bmRdLm9wdGlvbnNbMF07XG4gIGNvbnN0IGFuc3dlckIgPSBxdWVzdGlvbnNbcm91bmRdLm9wdGlvbnNbMV07XG4gIGNvbnN0IGFuc3dlckMgPSBxdWVzdGlvbnNbcm91bmRdLm9wdGlvbnNbMl07XG4gIGFjdHVhbEFuc3dlciA9IHF1ZXN0aW9uc1tyb3VuZF0uYW5zd2VyO1xuICAvL3RvIHByaW50IHRoZSBxdWVzdGlvbnMgYW5kIHRoZSBidXR0b25zXG4gICQoJ2Rpdi5xdWVzdGlvbnMnKS5odG1sKGNob3NlblF1ZXN0aW9uKTtcbiAgJCgnYnV0dG9uLmEnKS5odG1sKGFuc3dlckEpO1xuICAkKCdidXR0b24uYicpLmh0bWwoYW5zd2VyQik7XG4gICQoJ2J1dHRvbi5jJykuaHRtbChhbnN3ZXJDKTtcbiAgY29uc29sZS5sb2coJ2Fuc3dlciA9ICcgKyBhY3R1YWxBbnN3ZXIpO1xuICAvLyB9XG5cbiAgLy90byBkZXRlcm1pbmUgaWYgYW5zd2VyIGlzIGNvcnJlY3QuXG5cbn1cblxuZnVuY3Rpb24gYnV0dG9uQ2xpY2soKXtcblxuICAkKCcucm91bmRUaHJlZSBidXR0b24nKS5jbGljaygoZSkgPT4ge1xuICAgIGNvbnN0ICRidXR0b24gPSAkKGUudGFyZ2V0KTtcbiAgICBjb25zdCBhbnN3ZXIgPSAkYnV0dG9uLmF0dHIoJ2NsYXNzJyk7XG5cbiAgICBpZiAoYW5zd2VyID09PSBhY3R1YWxBbnN3ZXIpe1xuICAgICAgY29uc29sZS5sb2coJ2NvcnJlY3QnKTtcbiAgICAgIGNvcnJlY3RRdWVzdGlvbisrO1xuICAgICAgY29uc29sZS5sb2coJ2NvcnJlY3RRdWVzdGlvbj0nICsgY29ycmVjdFF1ZXN0aW9uKTtcbiAgICB9XG4gICAgaWYocm91bmQgPD0gMykge1xuICAgICAgcm91bmQrKztcbiAgICAgIGxldmVsVGhyZWVQbGF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHRzJyk7XG4gICAgICAkKCcjY2hhcnQtY29udGFpbmVyJykuc2hvdygpO1xuICAgICAgJCgnI2NoYXJ0LWNvbnRhaW5lcicpLmFuaW1hdGUoIHtcbiAgICAgICAgb3BhY2l0eTogMVxuICAgICAgfSApO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=
