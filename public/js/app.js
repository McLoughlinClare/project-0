"use strict";console.log("JS loaded"),$(function(){function e(){B=o(K),t(D),a(K)}function o(e){var o=e.slice(0);return o.sort(function(){return Math.random()-.5}),o}function t(e){for(var o=0;o<e.length;o++)$("<div />",{text:e[o],"data-position":o+1}).appendTo("#cardSlots").droppable({accept:"#cardPile div",hoverClass:"hovered",drop:n})}function a(e){for(var o=0;o<B.length;o++)$("<div />",{text:B[o],"data-position":e.indexOf(B[o])+1}).attr("id","card"+o).appendTo("#cardPile").draggable({containment:"#levelOne",stack:"#cardPile div",cursor:"move",revert:!0})}function n(o,t){var a=$(this).data("position"),n=t.draggable.data("position");console.log(a,n),a===n&&(t.draggable.addClass("correct"),t.draggable.draggable("disable"),$(this).droppable("disable"),t.draggable.position({of:$(this),my:"left top",at:"left top"}),t.draggable.draggable("option","revert",!1),P++,console.log(P)),8===P&&1===y?(D=M,K=q,y++,v.html(""),m.html(""),e()):16===P&&2===y?(D=L,K=C,y++,v.html(""),m.html(""),e()):24===P&&3===y&&(x=(new Date).getTime(),N=Math.round((100-(x-W)/1e3)/10),console.log(N),g.show(),p.hide(),console.log("leveltworevealed"),A=(new Date).getTime(),r())}function r(){console.log("levelTwoPlay"),console.log(f),f.draggable({containment:"levelTwo",revert:!0}),w.droppable({accept:".mesons",drop:s}),k.droppable({accept:".baryons",drop:s}),T.droppable({accept:".leptons",drop:s})}function s(e,o){$(this).data("position")===o.draggable.data("position")&&(o.draggable.addClass("correct"),o.draggable.draggable("option","revert",!1),10==++F&&(Q=(new Date).getTime(),E=Math.round((100-(Q-A)/1e3)/10),console.log(E),console.log("Level Three"),h.show(500),g.hide(),i(),l()))}function i(){console.log("start of level 3");var e=J[z].question,o=J[z].options[0],t=J[z].options[1],a=J[z].options[2];j=J[z].answer,$("div.questions").html(e),$("button.a").html(o),$("button.b").html(t),$("button.c").html(a)}function l(){$(".roundThree button").click(function(e){if($(e.target).attr("class")===j&&U++,z<=3)z++,i();else{console.log("results"),$("div.feedbackOne p").html(N);var o="average";N>4&&(o="good"),N<3&&(o="bad"),$(".feedbackOne").addClass(o),$("div.feedbackTwo p").html(E);var t="average";E>6&&(t="good"),E<5&&(t="bad"),$(".feedbackTwo").addClass(t),$("div.feedbackThree p").html(U);var a="average";U>4&&(a="good"),U<3&&(a="bad"),$(".feedbackThree").addClass(a),console.log("student feedback loading"),h.hide(),$("#studentFeedback").show().animate({opacity:1}),G>13?$("#superstar").show():N<E&&N<U?$("#improveSymbols").show():E<N&&E<U?$("#improveClassification").show():U<E&&U<N&&$("#improveSymbols").show()}})}var d=$(".start-button"),c=$(".skip-button"),u=$("#welcome"),p=$("#levelOne"),g=$("#levelTwo"),h=$("#levelThree"),b=$(".fullscreen-bg"),v=$("#cardPile"),m=$("#cardSlots"),f=$(".unclassifiedParticle"),w=$("#mesons"),k=$("#baryons"),T=$("#lepton"),P=0,y=1,q=["Proton","Neutron","k⁰","π+","π-","K+","K-","π⁰"],C=["Q","B","S","γ","b","ν","L","e⁰ "],S=["Proton","Neutron","Electron","Positron","tau","Kaon+","Muon","Pion"],M=["uud","udd","ds̄","ūd","d̄u","us̄","ūs","uū"],L=["Charge","Baryon number","Strangeness","photon","Bottom Quark","neutrino","Lepton number","positron"],O=["p","n","e","p̄","τ","K+","μ","π⁰"],B=[],D=O,K=S,W="",x="",N="",A="",Q="",E="",F=0,J=[{answer:"a answer-button",question:"the creation of a particle and its anti-particle when a gamma ray photon passes close to a nucleus.",options:["Pair Production","Pair Annihilation","Anti-matter"]},{answer:"c answer-button",question:"What is the charm quark's anti quark?",options:["Up","Top","Strange"]},{answer:"c answer-button",question:"Which particle type consists of quark-antiquark pairs?",options:["Baryon","Lepton","Meson"]},{answer:"a answer-button",question:"When is strangeness not conserved?",options:["weak interaction","electromagnetic force","gravitational force"]},{answer:"b answer-button",question:"Which of the following is not a Lepton?",options:["Muon","Neutron","Tau"]}],U=0,j="",z=0,G=N+U+E;d.click(function(){e(),console.log("welcome clicked!"),u.hide(10),b.hide(10),p.show(50),W=(new Date).getTime(),console.log(W)}),c.click(function(){g.show(),g.animate({opacity:1}),r()}),v.html("")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJjb25zb2xlIiwibG9nIiwiJCIsImNhcmRBc3NpZ24iLCIkc3RhcnRCdXR0b24iLCJzaHVmZmxlQXJyYXkiLCJudW1iZXJzIiwibGV2ZWxPbmVQbGF5IiwiYXJyYXkiLCJuZXdBcnJheSIsInNsaWNlIiwiYWNjZXB0IiwiY2FyZFNsb3RBc3NpZ24iLCJpIiwicmFuZG9tIiwic2xvdHMiLCJsZW5ndGgiLCJ0ZXh0IiwiZGF0YS1wb3NpdGlvbiIsImFwcGVuZFRvIiwiZHJvcHBhYmxlIiwiaG92ZXJDbGFzcyIsImRyb3AiLCJoYW5kbGVDYXJkRHJvcCIsInNodWZmbGVkTnVtYmVycyIsImluZGV4T2YiLCJhdHRyIiwiZHJhZ2dhYmxlIiwiY29udGFpbm1lbnQiLCJzdGFjayIsInNsb3ROdW1iZXIiLCJjYXJkTnVtYmVyIiwidWkiLCJldmVudCIsInRoaXMiLCJkYXRhIiwicG9zaXRpb24iLCJhZGRDbGFzcyIsImNvcnJlY3RDYXJkcyIsInR1cm5OdW1iZXIiLCJzbG90c1R3byIsIm51bWJlcnNUd28iLCJvZiIsIm15IiwiYXQiLCIkY2FyZFBpbGUiLCIkY2FyZFNsb3RzIiwiaHRtbCIsInNsb3RzVGhyZWUiLCJudW1iZXJzVGhyZWUiLCJsZXZlbE9uZUVuZCIsImxldmVsT25lU2NvcmUiLCIkbGV2ZWxUd28iLCJzaG93IiwiJGxldmVsT25lIiwiaGlkZSIsImxldmVsVHdvUGxheSIsIkRhdGUiLCJnZXRUaW1lIiwiTWF0aCIsInJvdW5kIiwibGV2ZWxPbmVTdGFydCIsIiR1bmNsYXNzaWZpZWRQYXJ0aWNsZSIsIiRtZXNvbnMiLCJsZXZlbFR3b0Ryb3BFdmVudCIsInJldmVydCIsIiRsZXB0b24iLCIkYmFyeW9ucyIsInBhcnRpY2xlQ2xhc3NpZmljYXRpb24iLCJwYXJ0aWNsZURpdiIsImNvcnJlY3RDbGFzc2lmaWNhdGlvbiIsImxldmVsVHdvRW5kIiwiJGxldmVsVGhyZWUiLCJsZXZlbFRocmVlUGxheSIsImJ1dHRvbkNsaWNrIiwibGV2ZWxUd29TY29yZSIsImFjdHVhbEFuc3dlciIsImNob3NlblF1ZXN0aW9uIiwiYW5zd2VyQiIsInF1ZXN0aW9uIiwiYW5zd2VyQSIsIm9wdGlvbnMiLCJxdWVzdGlvbnMiLCJhbnN3ZXJDIiwiYW5zd2VyIiwiZSIsInRhcmdldCIsIiRidXR0b24iLCJsZXZlbFRocmVlU2NvcmUiLCJsZXZlbFR3b0NsYXNzIiwibGV2ZWxPbmVDbGFzcyIsImxldmVsVGhyZWVDbGFzcyIsImFuaW1hdGUiLCJvcGFjaXR5IiwidG90YWxTY29yZSIsIiRza2lwQnV0dG9uIiwiJHdlbGNvbWUiLCIkZnVsbFNjcmVlbkJnIiwic2xvdHNPbmUiLCJsZXZlbFR3b1N0YXJ0IiwiY2xpY2siXSwibWFwcGluZ3MiOiJZQUFBQSxTQUFRQyxJQUFJLGFBQ1pDLEVBQUUsV0EwRkVDLFFBQUFBLEtBSUZDLEVBQW1CQyxFQUFNQyxHQUN2QkMsRUFBQUEsR0FDQVAsRUFBQU0sR0E0QkQsUUFBQUQsR0FBQUcsR0FFRCxHQUFBQyxHQUFBRCxFQUFBRSxNQUFBLEVBS01DLE9BSk5GLEdBQVNHLEtBQUFBLFdBQ1AsTUFBVUMsTUFBVkMsU0FBaUJDLEtBR2JKLEVBSUgsUUFBQUMsR0FBQUcsR0FDRixJQUFBLEdBQUFGLEdBQUEsRUFBQUEsRUFBQUUsRUFBQUMsT0FBQUgsSUFQR1gsRUFBRSxXQUFhZSxLQUFNRixFQUFNRixHQUFJSyxnQkFBaUJMLEVBQUksSUFBS00sU0FBUyxjQVN0RUMsV0FDQVQsT0FBU1IsZ0JBQ1BrQixXQUFlUixVQUNYUyxLQUFBQyxJQU1ILFFBQUFwQixHQUFBRyxHQUNGLElBQUEsR0FBQU8sR0FBQSxFQUFBQSxFQUFBVyxFQUFBUixPQUFBSCxJQUNEWCxFQUFBLFdBQUFlLEtBQUFPLEVBQUFYLEdBQUFLLGdCQUFBWixFQUFBbUIsUUFBQUQsRUFBQVgsSUFBQSxJQUFBYSxLQUFBLEtBQUEsT0FBQWIsR0FBQU0sU0FBQSxhQUFBUSxXQUNBQyxZQUFTTCxZQVBITSxNQUFPLGdCQVNQQyxPQUFBQSxPQUNBQyxR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ZGVkJyk7XG4kKCgpPT57XG5cbiAgY29uc3QgJHN0YXJ0QnV0dG9uID0gJCgnLnN0YXJ0LWJ1dHRvbicpO1xuICBjb25zdCAkc2tpcEJ1dHRvbiA9ICQoJy5za2lwLWJ1dHRvbicpO1xuICBjb25zdCAkd2VsY29tZSA9ICQoJyN3ZWxjb21lJyk7XG4gIGNvbnN0ICRsZXZlbE9uZSA9ICQoJyNsZXZlbE9uZScpO1xuICBjb25zdCAkbGV2ZWxUd28gPSAkKCcjbGV2ZWxUd28nKTtcbiAgY29uc3QgJGxldmVsVGhyZWUgPSAkKCcjbGV2ZWxUaHJlZScpO1xuICBjb25zdCAkZnVsbFNjcmVlbkJnID0gJCgnLmZ1bGxzY3JlZW4tYmcnKTtcbiAgY29uc3QgJGNhcmRQaWxlID0gJCgnI2NhcmRQaWxlJyk7XG4gIGNvbnN0ICRjYXJkU2xvdHMgPSAkKCcjY2FyZFNsb3RzJyk7XG4gIGNvbnN0ICR1bmNsYXNzaWZpZWRQYXJ0aWNsZSA9ICQoJy51bmNsYXNzaWZpZWRQYXJ0aWNsZScpO1xuICBjb25zdCAkbWVzb25zID0gJCgnI21lc29ucycpO1xuICBjb25zdCAkYmFyeW9ucyA9ICQoJyNiYXJ5b25zJyk7XG4gIGNvbnN0ICRsZXB0b24gPSAkKCcjbGVwdG9uJyk7XG5cblxuICAvL2xldmVsIG9uZSBjb25zdGFudHMvLy9cbiAgbGV0IGNvcnJlY3RDYXJkcyA9IDA7XG4gIGxldCB0dXJuTnVtYmVyID0gMTtcblxuICBjb25zdCBudW1iZXJzVHdvID0gWydQcm90b24nLCAnTmV1dHJvbicsICdrXFx1MjA3MCcsICdcXHUwM0MwKycsJ1xcdTAzQzAtJywgJ0srJywnSy0nLCdcXHUwM0MwXFx1MjA3MCddO1xuICBjb25zdCBudW1iZXJzVGhyZWUgPVsnUScsICdCJywgJ1MnLCAnXFx1MDNCMycsICdiJywgJ1xcdTAzQkQnLCAnTCcsICdlXFx1MjA3MCAnXTtcbiAgY29uc3QgbnVtYmVyc09uZSA9IFsnUHJvdG9uJywgJ05ldXRyb24nLCAnRWxlY3Ryb24nLCAnUG9zaXRyb24nLCAndGF1JywgJ0thb24rJywgJ011b24nLCAnUGlvbiddO1xuXG4gIGNvbnN0IHNsb3RzVHdvPSBbJ3V1ZCcsICd1ZGQnLCdkc1xcdTAzMDQnLCd1XFx1MDMwNGQnLCAnZFxcdTAzMDR1JywndXNcXHUwMzA0JywgJ3VcXHUwMzA0cycsICd1dVxcdTAzMDQnXTtcbiAgY29uc3Qgc2xvdHNUaHJlZSA9IFsnQ2hhcmdlJywgJ0JhcnlvbiBudW1iZXInLCAnU3RyYW5nZW5lc3MnLCAncGhvdG9uJywgJ0JvdHRvbSBRdWFyaycsICduZXV0cmlubycsICdMZXB0b24gbnVtYmVyJywgJ3Bvc2l0cm9uJ107XG4gIGNvbnN0IHNsb3RzT25lID0gWydwJywgJ24nLCdlJywgJ3BcXHUwMzA0JywnXFx1MDNDNCcsICdLKycsJ1xcdTAzQkMnLCdcXHUwM0MwXFx1MjA3MCddO1xuXG4gIGxldCBzaHVmZmxlZE51bWJlcnM9IFtdO1xuICBsZXQgc2xvdHMgPSBzbG90c09uZTtcbiAgbGV0IG51bWJlcnMgPSBudW1iZXJzT25lO1xuXG4gIGxldCBsZXZlbE9uZVN0YXJ0ID0gJyc7XG4gIGxldCBsZXZlbE9uZUVuZCA9ICcnO1xuICBsZXQgbGV2ZWxPbmVTY29yZSA9ICcnO1xuXG4gIC8vbGV2ZWwgdHdvIGNvbnN0YW50cy8vLy9cblxuICBsZXQgbGV2ZWxUd29TdGFydCA9ICcnO1xuICBsZXQgbGV2ZWxUd29FbmQgPSAnJztcbiAgbGV0IGxldmVsVHdvU2NvcmUgPSAnJztcblxuICAvL2xldmVsIHRocmVlIGNvbnN0YW50cy8vL1xuICBsZXQgY29ycmVjdENsYXNzaWZpY2F0aW9uID0gMDtcblxuICBjb25zdCBxdWVzdGlvbnMgPVtcbiAgICB7XG4gICAgICBhbnN3ZXI6ICdhIGFuc3dlci1idXR0b24nLFxuICAgICAgcXVlc3Rpb246IGB0aGUgY3JlYXRpb24gb2YgYSBwYXJ0aWNsZSBhbmQgaXRzIGFudGktcGFydGljbGUgd2hlbiBhIGdhbW1hIHJheSBwaG90b24gcGFzc2VzIGNsb3NlIHRvIGEgbnVjbGV1cy5gLFxuICAgICAgb3B0aW9uczogW2BQYWlyIFByb2R1Y3Rpb25gLCBgUGFpciBBbm5paGlsYXRpb25gLCBgQW50aS1tYXR0ZXJgXVxuICAgIH0sXG4gICAge1xuICAgICAgYW5zd2VyOiAnYyBhbnN3ZXItYnV0dG9uJyxcbiAgICAgIHF1ZXN0aW9uOiBgV2hhdCBpcyB0aGUgY2hhcm0gcXVhcmsncyBhbnRpIHF1YXJrP2AsXG4gICAgICBvcHRpb25zOiBbYFVwYCwgYFRvcGAsIGBTdHJhbmdlYF1cbiAgICB9LFxuICAgIHtcbiAgICAgIGFuc3dlcjogJ2MgYW5zd2VyLWJ1dHRvbicsXG4gICAgICBxdWVzdGlvbjogYFdoaWNoIHBhcnRpY2xlIHR5cGUgY29uc2lzdHMgb2YgcXVhcmstYW50aXF1YXJrIHBhaXJzP2AsXG4gICAgICBvcHRpb25zOiBbYEJhcnlvbmAsIGBMZXB0b25gLCBgTWVzb25gXVxuICAgIH0sXG4gICAge1xuICAgICAgYW5zd2VyOiAnYSBhbnN3ZXItYnV0dG9uJyxcbiAgICAgIHF1ZXN0aW9uOiBgV2hlbiBpcyBzdHJhbmdlbmVzcyBub3QgY29uc2VydmVkP2AsXG4gICAgICBvcHRpb25zOiBbYHdlYWsgaW50ZXJhY3Rpb25gLCBgZWxlY3Ryb21hZ25ldGljIGZvcmNlYCwgYGdyYXZpdGF0aW9uYWwgZm9yY2VgXVxuICAgIH0sXG4gICAge1xuICAgICAgYW5zd2VyOiAnYiBhbnN3ZXItYnV0dG9uJyxcbiAgICAgIHF1ZXN0aW9uOiBgV2hpY2ggb2YgdGhlIGZvbGxvd2luZyBpcyBub3QgYSBMZXB0b24/YCxcbiAgICAgIG9wdGlvbnM6IFtgTXVvbmAsIGBOZXV0cm9uYCwgYFRhdWBdXG4gICAgfVxuICBdO1xuXG4gIGxldCBsZXZlbFRocmVlU2NvcmUgPSAwO1xuICBsZXQgYWN0dWFsQW5zd2VyID0gJyc7XG4gIGxldCByb3VuZCA9IDA7XG4gIGxldCB0b3RhbFNjb3JlID0gbGV2ZWxPbmVTY29yZSArIGxldmVsVGhyZWVTY29yZSArIGxldmVsVHdvU2NvcmVcbiAgLy8vLy8vLy8vLy8vLy8vLy8vZW5kIG9mIGNvbnN0YW50cy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuICAvL3J1biBmdW5jdGlvbiBmb3IgdGhlIGZpcnN0IHRpbWUgZm9yIHR1cm4gMS5cblxuICAvLyBsZXZlbE9uZVBsYXkoKTtcblxuICBmdW5jdGlvbiBsZXZlbE9uZVBsYXkoKSB7XG4gICAgLy8gU2hvdyBvbmx5IHRoZSBmaXJzdCBnYW1lLlxuICAgIC8vc2hvdyBvbmx5IG9uZSBwYWlyIG9mIGFycmF5cyBhdCBhIHRpbWVcbiAgICBzaHVmZmxlZE51bWJlcnMgPSBzaHVmZmxlQXJyYXkobnVtYmVycyk7XG4gICAgY2FyZFNsb3RBc3NpZ24oc2xvdHMpO1xuICAgIGNhcmRBc3NpZ24obnVtYmVycyk7XG5cbiAgfVxuICAgIC8vc3RhcnQgYnV0dG9uIHRvIGNvbGxlY3QgdGltZSBzdGFtcC5cbiAgJHN0YXJ0QnV0dG9uLmNsaWNrKCgpID0+IHtcbiAgICBsZXZlbE9uZVBsYXkoKTtcbiAgICBjb25zb2xlLmxvZygnd2VsY29tZSBjbGlja2VkIScpO1xuICAgICR3ZWxjb21lLmhpZGUoMTApO1xuICAgICRmdWxsU2NyZWVuQmcuaGlkZSgxMCk7XG4gICAgJGxldmVsT25lLnNob3coNTApO1xuICAgIGxldmVsT25lU3RhcnQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgIGNvbnNvbGUubG9nKGxldmVsT25lU3RhcnQpO1xuXG4gIH0pO1xuICAvL3NraXAgYnV0dG9uIGZvciBkZXZlbG9wbWVudCBwdXJwb3NlcyBvbmx5LlxuICAkc2tpcEJ1dHRvbi5jbGljaygoKSA9PiB7XG4gICAgJGxldmVsVHdvLnNob3coKTtcbiAgICAkbGV2ZWxUd28uYW5pbWF0ZSgge1xuICAgICAgb3BhY2l0eTogMVxuICAgIH0gKTtcbiAgICBsZXZlbFR3b1BsYXkoKTtcbiAgfSk7XG5cbiAgLy8gUmVzZXQgdGhlIGdhbWVcbiAgJGNhcmRQaWxlLmh0bWwoICcnICk7XG5cbiAgLy90byBzaHVmZmxlIHRoZSBjYXJkcyBzbyBpdCBpcyBkaWZmZXJlbnQgZWFjaCB0aW1lIGZvciB0aGUgcGxheWVyLlxuICBmdW5jdGlvbiBzaHVmZmxlQXJyYXkoYXJyYXkpIHtcbiAgICAvLyBmaXNoZXIteWF0ZXMgc2h1ZmZsZVxuICAgIGNvbnN0IG5ld0FycmF5ID0gYXJyYXkuc2xpY2UoMCk7XG4gICAgbmV3QXJyYXkuc29ydCggZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAtIDAuNTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3QXJyYXk7XG4gIH1cblxuICAvLyBDcmVhdGUgdGhlIGNhcmQgc2xvdHNcbiAgZnVuY3Rpb24gY2FyZFNsb3RBc3NpZ24oc2xvdHMpIHtcbiAgICBmb3IgKCBsZXQgaT0wOyBpPHNsb3RzLmxlbmd0aDsgaSsrICkge1xuICAgICAgJCgnPGRpdiAvPicsIHsgdGV4dDogc2xvdHNbaV0sICdkYXRhLXBvc2l0aW9uJzogaSArIDEgfSkuYXBwZW5kVG8oJyNjYXJkU2xvdHMnKVxuICAgICAgLmRyb3BwYWJsZSgge1xuICAgICAgICBhY2NlcHQ6ICcjY2FyZFBpbGUgZGl2JyxcbiAgICAgICAgaG92ZXJDbGFzczogJ2hvdmVyZWQnLFxuICAgICAgICBkcm9wOiBoYW5kbGVDYXJkRHJvcFxuICAgICAgfSApO1xuICAgIH1cbiAgfVxuXG4gIC8vIENyZWF0ZSB0aGUgcGlsZSBvZiBzaHVmZmxlZCBjYXJkc1xuICBmdW5jdGlvbiBjYXJkQXNzaWduKG51bWJlcnMpe1xuICAgIGZvciAoIGxldCBpPTA7IGk8c2h1ZmZsZWROdW1iZXJzLmxlbmd0aDsgaSsrICkge1xuICAgICAgJCgnPGRpdiAvPicsIHsgdGV4dDogc2h1ZmZsZWROdW1iZXJzW2ldLCAnZGF0YS1wb3NpdGlvbic6IG51bWJlcnMuaW5kZXhPZihzaHVmZmxlZE51bWJlcnNbaV0pICsgMSB9KS5hdHRyKCAnaWQnLCAnY2FyZCcraSApLmFwcGVuZFRvKCAnI2NhcmRQaWxlJyApLmRyYWdnYWJsZSgge1xuICAgICAgICBjb250YWlubWVudDogJyNsZXZlbE9uZScsXG4gICAgICAgIHN0YWNrOiAnI2NhcmRQaWxlIGRpdicsXG4gICAgICAgIGN1cnNvcjogJ21vdmUnLFxuICAgICAgICByZXZlcnQ6IHRydWVcbiAgICAgIH0gKTtcbiAgICB9XG4gIH1cbiAgLy9kcmFnZ2luZyB0aGUgY2FyZHMgdG8gdGhlIHJpZ2h0IHNsb3QuXG4gIGZ1bmN0aW9uIGhhbmRsZUNhcmREcm9wKCBldmVudCwgdWkgKSB7XG5cbiAgICB2YXIgc2xvdE51bWJlciA9ICQodGhpcykuZGF0YSgncG9zaXRpb24nKTtcbiAgICB2YXIgY2FyZE51bWJlciA9IHVpLmRyYWdnYWJsZS5kYXRhKCdwb3NpdGlvbicpO1xuICAgIGNvbnNvbGUubG9nKHNsb3ROdW1iZXIsIGNhcmROdW1iZXIpO1xuICAgIC8vIElmIHRoZSBjYXJkIHdhcyBkcm9wcGVkIHRvIHRoZSBjb3JyZWN0IHNsb3QsY2hhbmdlIHRoZSBjYXJkIGNvbG91ciwgcG9zaXRpb24gaXQgZGlyZWN0bHlcbiAgICAvLyBvbiB0b3Agb2YgdGhlIHNsb3QsIGFuZCBwcmV2ZW50IGl0IGJlaW5nIGRyYWdnZWQgYWdhaW5cbiAgICBpZiAoIHNsb3ROdW1iZXIgPT09IGNhcmROdW1iZXIgKSB7XG4gICAgICB1aS5kcmFnZ2FibGUuYWRkQ2xhc3MoICdjb3JyZWN0JyApO1xuICAgICAgdWkuZHJhZ2dhYmxlLmRyYWdnYWJsZSggJ2Rpc2FibGUnICk7XG4gICAgICAkKHRoaXMpLmRyb3BwYWJsZSggJ2Rpc2FibGUnICk7XG4gICAgICB1aS5kcmFnZ2FibGUucG9zaXRpb24oIHsgb2Y6ICQodGhpcyksIG15OiAnbGVmdCB0b3AnLCBhdDogJ2xlZnQgdG9wJyB9ICk7XG4gICAgICB1aS5kcmFnZ2FibGUuZHJhZ2dhYmxlKCAnb3B0aW9uJywgJ3JldmVydCcsIGZhbHNlICk7XG4gICAgICBjb3JyZWN0Q2FyZHMrKztcbiAgICAgIGNvbnNvbGUubG9nKGNvcnJlY3RDYXJkcyk7XG4gICAgfVxuICAgIC8vIElmIGFsbCB0aGUgY2FyZHMgaGF2ZSBiZWVuIHBsYWNlZCBjb3JyZWN0bHkgbW92ZSBvbnRvIG5leHQgcm91bmQsIHVubGVzcyBmaW5hbCByb3VuZCwgZGlzcGxheSBzdWNjZXNzIG1lc3NhZ2UuXG4gICAgaWYgKGNvcnJlY3RDYXJkcyA9PT0gOCAmJiB0dXJuTnVtYmVyID09PSAxKXtcbiAgICAgIHNsb3RzID0gc2xvdHNUd287XG4gICAgICBudW1iZXJzID0gbnVtYmVyc1R3bztcbiAgICAgIHR1cm5OdW1iZXIrKztcbiAgICAgICRjYXJkUGlsZS5odG1sKCAnJyApO1xuICAgICAgJGNhcmRTbG90cy5odG1sKCAnJyApO1xuICAgICAgbGV2ZWxPbmVQbGF5KCk7XG4gICAgICAvL3RvIHRha2UgcGxheWVyIG9udG8gdGhlIDNyZCByb3VuZC5cbiAgICB9IGVsc2UgaWYgKGNvcnJlY3RDYXJkcyA9PT0gMTYgJiYgdHVybk51bWJlciA9PT0gMil7XG4gICAgICBzbG90cyA9IHNsb3RzVGhyZWU7XG4gICAgICBudW1iZXJzID0gbnVtYmVyc1RocmVlO1xuICAgICAgdHVybk51bWJlcisrO1xuICAgICAgJGNhcmRQaWxlLmh0bWwoICcnICk7XG4gICAgICAkY2FyZFNsb3RzLmh0bWwoICcnICk7XG4gICAgICBsZXZlbE9uZVBsYXkoKTtcbiAgICAgIC8vdG8gY29tcGxldGUgbGV2ZWwgMVxuICAgIH0gZWxzZSBpZiAoIGNvcnJlY3RDYXJkcyA9PT0gMjQgJiYgdHVybk51bWJlciA9PT0gMykge1xuICAgICAgbGV2ZWxPbmVFbmQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgbGV2ZWxPbmVTY29yZSA9IE1hdGgucm91bmQoKDEwMCAtICgobGV2ZWxPbmVFbmQgLSBsZXZlbE9uZVN0YXJ0KS8xMDAwKSkvMTApO1xuICAgICAgY29uc29sZS5sb2cobGV2ZWxPbmVTY29yZSk7XG4gICAgICAkbGV2ZWxUd28uc2hvdygpO1xuICAgICAgJGxldmVsT25lLmhpZGUoKTtcbiAgICAgIGNvbnNvbGUubG9nKCdsZXZlbHR3b3JldmVhbGVkJyk7XG4gICAgICBsZXZlbFR3b1N0YXJ0ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgIGxldmVsVHdvUGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vRU5EIE9GIExFVkVMIDEvLy8vLy9TVEFSVCBPRiBMRVZFTCAyLy8vLy9cbiAgZnVuY3Rpb24gbGV2ZWxUd29QbGF5KCkge1xuICAgIGNvbnNvbGUubG9nKCdsZXZlbFR3b1BsYXknKTtcbiAgICBjb25zb2xlLmxvZygkdW5jbGFzc2lmaWVkUGFydGljbGUpO1xuICAgICR1bmNsYXNzaWZpZWRQYXJ0aWNsZS5kcmFnZ2FibGUoe1xuICAgICAgY29udGFpbm1lbnQ6ICdsZXZlbFR3bycsXG4gICAgICByZXZlcnQ6IHRydWVcblxuICAgIH0pO1xuXG4gICAgJG1lc29ucy5kcm9wcGFibGUoe1xuICAgICAgYWNjZXB0OiAnLm1lc29ucycsXG4gICAgICBkcm9wOiBsZXZlbFR3b0Ryb3BFdmVudFxuICAgIH0pO1xuXG4gICAgJGJhcnlvbnMuZHJvcHBhYmxlKHtcbiAgICAgIGFjY2VwdDogJy5iYXJ5b25zJyxcbiAgICAgIGRyb3A6IGxldmVsVHdvRHJvcEV2ZW50XG4gICAgfSk7XG4gICAgJGxlcHRvbi5kcm9wcGFibGUoe1xuICAgICAgYWNjZXB0OiAnLmxlcHRvbnMnLFxuICAgICAgZHJvcDogbGV2ZWxUd29Ecm9wRXZlbnRcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxldmVsVHdvRHJvcEV2ZW50KCBldmVudCwgdWkgKSB7XG4gICAgdmFyIHBhcnRpY2xlRGl2ID0gJCh0aGlzKS5kYXRhKCdwb3NpdGlvbicpO1xuICAgIHZhciBwYXJ0aWNsZUNsYXNzaWZpY2F0aW9uID0gdWkuZHJhZ2dhYmxlLmRhdGEoJ3Bvc2l0aW9uJyk7XG4gICAgaWYgKHBhcnRpY2xlRGl2ID09PSBwYXJ0aWNsZUNsYXNzaWZpY2F0aW9uKXtcbiAgICAgIHVpLmRyYWdnYWJsZS5hZGRDbGFzcyggJ2NvcnJlY3QnICk7XG4gICAgICB1aS5kcmFnZ2FibGUuZHJhZ2dhYmxlKCAnb3B0aW9uJywgJ3JldmVydCcsIGZhbHNlICk7XG4gICAgICBjb3JyZWN0Q2xhc3NpZmljYXRpb24gKys7XG5cbiAgICAgIGlmICggY29ycmVjdENsYXNzaWZpY2F0aW9uID09PSAxMCkge1xuICAgICAgICBsZXZlbFR3b0VuZCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICAgIGxldmVsVHdvU2NvcmUgPSBNYXRoLnJvdW5kKCgxMDAgLSAoKGxldmVsVHdvRW5kIC0gbGV2ZWxUd29TdGFydCkvMTAwMCkpLzEwKTtcbiAgICAgICAgY29uc29sZS5sb2cobGV2ZWxUd29TY29yZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdMZXZlbCBUaHJlZScpO1xuICAgICAgICAvL1JldmVhbCBsZXZlbCB0aHJlZSBhbmQgaGlkZSBsZXZlbCB0d28uXG4gICAgICAgICRsZXZlbFRocmVlLnNob3coNTAwKTtcbiAgICAgICAgJGxldmVsVHdvLmhpZGUoKTtcblxuICAgICAgICBsZXZlbFRocmVlUGxheSgpO1xuICAgICAgICBidXR0b25DbGljaygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vbGV2ZWwgMy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgZnVuY3Rpb24gbGV2ZWxUaHJlZVBsYXkgKCl7XG4gICAgY29uc29sZS5sb2coJ3N0YXJ0IG9mIGxldmVsIDMnKTtcbiAgICAvLyBmb3IgKGxldCBpID0gMDsgaTxxdWVzdGlvbnMubGVuZ3RoOyBpKyspe1xuICAgIC8vdG8gZ2VuZXJhdGUgdGhlIHF1ZXN0aW9uIGZvciBlYWNoIHJvdW5kXG4gICAgY29uc3QgY2hvc2VuUXVlc3Rpb24gPSBxdWVzdGlvbnNbcm91bmRdLnF1ZXN0aW9uO1xuICAgIGNvbnN0IGFuc3dlckEgPSBxdWVzdGlvbnNbcm91bmRdLm9wdGlvbnNbMF07XG4gICAgY29uc3QgYW5zd2VyQiA9IHF1ZXN0aW9uc1tyb3VuZF0ub3B0aW9uc1sxXTtcbiAgICBjb25zdCBhbnN3ZXJDID0gcXVlc3Rpb25zW3JvdW5kXS5vcHRpb25zWzJdO1xuICAgIGFjdHVhbEFuc3dlciA9IHF1ZXN0aW9uc1tyb3VuZF0uYW5zd2VyO1xuICAgIC8vdG8gcHJpbnQgdGhlIHF1ZXN0aW9ucyBhbmQgdGhlIGJ1dHRvbnNcbiAgICAkKCdkaXYucXVlc3Rpb25zJykuaHRtbChjaG9zZW5RdWVzdGlvbik7XG4gICAgJCgnYnV0dG9uLmEnKS5odG1sKGFuc3dlckEpO1xuICAgICQoJ2J1dHRvbi5iJykuaHRtbChhbnN3ZXJCKTtcbiAgICAkKCdidXR0b24uYycpLmh0bWwoYW5zd2VyQyk7XG4gIH1cblxuICBmdW5jdGlvbiBidXR0b25DbGljaygpe1xuICAgICQoJy5yb3VuZFRocmVlIGJ1dHRvbicpLmNsaWNrKChlKSA9PiB7XG4gICAgICBjb25zdCAkYnV0dG9uID0gJChlLnRhcmdldCk7XG4gICAgICBjb25zdCBhbnN3ZXIgPSAkYnV0dG9uLmF0dHIoJ2NsYXNzJyk7XG5cbiAgICAgIGlmIChhbnN3ZXIgPT09IGFjdHVhbEFuc3dlcil7XG4gICAgICAgIGxldmVsVGhyZWVTY29yZSsrO1xuICAgICAgfVxuICAgICAgaWYocm91bmQgPD0gMykge1xuICAgICAgICByb3VuZCsrO1xuICAgICAgICBsZXZlbFRocmVlUGxheSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdHMnKTtcblxuICAgICAgICAvL2Fzc2lnbmluZyBjb2xvdXJzIHRvIGRpdnMgZm9yIHRoZSByZXN1bHRzXG5cbiAgICAgICAgJCggJ2Rpdi5mZWVkYmFja09uZSBwJyApLmh0bWwobGV2ZWxPbmVTY29yZSk7XG4gICAgICAgIGxldCBsZXZlbE9uZUNsYXNzID0gJ2F2ZXJhZ2UnO1xuICAgICAgICBpZiAobGV2ZWxPbmVTY29yZSA+IDQpIGxldmVsT25lQ2xhc3MgPSAnZ29vZCc7XG4gICAgICAgIGlmKGxldmVsT25lU2NvcmUgPCAzKSBsZXZlbE9uZUNsYXNzID0gJ2JhZCc7XG4gICAgICAgICQoJy5mZWVkYmFja09uZScpLmFkZENsYXNzKGxldmVsT25lQ2xhc3MpO1xuXG4gICAgICAgICQoICdkaXYuZmVlZGJhY2tUd28gcCcgKS5odG1sKGxldmVsVHdvU2NvcmUpO1xuICAgICAgICBsZXQgbGV2ZWxUd29DbGFzcyA9ICdhdmVyYWdlJztcbiAgICAgICAgaWYgKGxldmVsVHdvU2NvcmUgPiA2KSBsZXZlbFR3b0NsYXNzID0gJ2dvb2QnO1xuICAgICAgICBpZihsZXZlbFR3b1Njb3JlIDwgNSkgbGV2ZWxUd29DbGFzcyA9ICdiYWQnO1xuICAgICAgICAkKCcuZmVlZGJhY2tUd28nKS5hZGRDbGFzcyhsZXZlbFR3b0NsYXNzKTtcblxuICAgICAgICAkKCAnZGl2LmZlZWRiYWNrVGhyZWUgcCcgKS5odG1sKGxldmVsVGhyZWVTY29yZSk7XG4gICAgICAgIGxldCBsZXZlbFRocmVlQ2xhc3MgPSAnYXZlcmFnZSc7XG4gICAgICAgIGlmIChsZXZlbFRocmVlU2NvcmUgPiA0KSBsZXZlbFRocmVlQ2xhc3MgPSAnZ29vZCc7XG4gICAgICAgIGlmKGxldmVsVGhyZWVTY29yZSA8IDMpIGxldmVsVGhyZWVDbGFzcyA9ICdiYWQnO1xuICAgICAgICAkKCcuZmVlZGJhY2tUaHJlZScpLmFkZENsYXNzKGxldmVsVGhyZWVDbGFzcyk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ3N0dWRlbnQgZmVlZGJhY2sgbG9hZGluZycpO1xuICAgICAgICAkbGV2ZWxUaHJlZS5oaWRlKCk7XG4gICAgICAgICQoJyNzdHVkZW50RmVlZGJhY2snKS5zaG93KCkuYW5pbWF0ZSgge1xuICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgfSApO1xuXG4gICAgICAgIGlmICh0b3RhbFNjb3JlID4gMTMpIHtcbiAgICAgICAgICAkKCcjc3VwZXJzdGFyJykuc2hvdygpO1xuICAgICAgICB9IGVsc2UgaWYgKChsZXZlbE9uZVNjb3JlIDwgbGV2ZWxUd29TY29yZSkgJiYgKGxldmVsT25lU2NvcmUgPCBsZXZlbFRocmVlU2NvcmUpKXtcbiAgICAgICAgICAkKCcjaW1wcm92ZVN5bWJvbHMnKS5zaG93KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoKGxldmVsVHdvU2NvcmUgPCBsZXZlbE9uZVNjb3JlKSAmJiAobGV2ZWxUd29TY29yZSA8IGxldmVsVGhyZWVTY29yZSkpe1xuICAgICAgICAgICQoJyNpbXByb3ZlQ2xhc3NpZmljYXRpb24nKS5zaG93KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoKGxldmVsVGhyZWVTY29yZSA8IGxldmVsVHdvU2NvcmUpICYmIChsZXZlbFRocmVlU2NvcmUgPCBsZXZlbE9uZVNjb3JlKSl7XG4gICAgICAgICAgJCgnI2ltcHJvdmVTeW1ib2xzJykuc2hvdygpO1xuICAgICAgICB9XG5cblxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiJdfQ==
